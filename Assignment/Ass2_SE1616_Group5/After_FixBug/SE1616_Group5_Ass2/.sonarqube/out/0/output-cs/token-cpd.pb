ç)
yC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\GUI\BookingDetailsGUI.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public 

partial 
class 
BookingDetailsGUI *
:+ ,
Form- 1
{ 
public 
int 
RoomID 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
ShowID 
{ 
get 
;  
set! $
;$ %
}& '
public 
Booking 
Booking 
{  
get! $
;$ %
set& )
;) *
}+ ,
private 
CinemaContext 
cinemaContext +
;+ ,
public 
BookingDetailsGUI  
(  !
int! $
roomID% +
,+ ,
int- 0
showID1 7
,7 8
Booking9 @
bookingA H
)H I
{ 	
RoomID 
= 
roomID 
; 
ShowID 
= 
showID 
; 
Booking 
= 
booking 
; 
cinemaContext 
= 
new 
CinemaContext  -
(- .
). /
;/ 0
InitializeComponent 
(  
)  !
;! "
initBokkingPanel 
( 
) 
; 
txtName 
. 
Text 
= 
Booking "
." #
Name# '
;' (
	txtAmount   
.   
Text   
=   
Booking   $
.  $ %
Amount  % +
.  + ,
ToString  , 4
(  4 5
)  5 6
;  6 7
}!! 	
private## 
void## 
initBokkingPanel## %
(##% &
)##& '
{$$ 	
panel1%% 
.%% 
Enabled%% 
=%% 
false%% "
;%%" #
panel1&& 
.&& 
Controls&& 
.&& 
Clear&& !
(&&! "
)&&" #
;&&# $
cinemaContext(( 
=(( 
new(( 
CinemaContext((  -
(((- .
)((. /
;((/ 0
Room)) 
room)) 
=)) 
cinemaContext)) %
.))% &
Rooms))& +
.))+ ,
Find)), 0
())0 1
RoomID))1 7
)))7 8
;))8 9
int++ 
?++ 
height++ 
=++ 
room++ 
.++ 

NumberRows++ )
.++) *
Value++* /
;++/ 0
int,, 
width,, 
=,, 
room,, 
.,, 

NumberCols,, '
.,,' (
Value,,( -
;,,- .
int.. 
startButtonPoint..  
=..! "
(..# $
panel1..$ *
...* +
Width..+ 0
-..1 2
width..3 8
*..9 :
$num..; =
)..= >
/..? @
$num..A B
;..B C
string00 

seatStatus00 
=00 
Booking00  '
.00' (

SeatStatus00( 2
;002 3
int11 
indexSeatStatus11 
=11  !
$num11" #
;11# $
for22 
(22 
int22 
i22 
=22 
$num22 
;22 
i22 
<22 
width22  %
;22% &
i22' (
++22( *
)22* +
{33 
for44 
(44 
int44 
j44 
=44 
$num44 
;44 
j44  !
<44" #
height44$ *
;44* +
j44, -
++44- /
)44/ 0
{55 
CheckBox66 
checkbox66 %
=66& '
new66( +
CheckBox66, 4
(664 5
)665 6
{77 
Width88 
=88 
$num88  "
,88" #
Height99 
=99  
$num99! #
,99# $
Location::  
=::! "
new::# &
Point::' ,
(::, -
i::- .
*::/ 0
$num::1 3
+::4 5
startButtonPoint::6 F
,::F G
j::H I
*::J K
$num::L N
)::N O
};; 
;;; 
if== 
(== 

seatStatus== "
.==" #
Length==# )
>==* +
$num==, -
&&==. 0

seatStatus==1 ;
[==; <
indexSeatStatus==< K
]==K L
====M O
$num==P R
)==R S
{>> 
checkbox??  
.??  !
Checked??! (
=??) *
true??+ /
;??/ 0
}@@ 
indexSeatStatusBB #
++BB# %
;BB% &
panel1DD 
.DD 
ControlsDD #
.DD# $
AddDD$ '
(DD' (
checkboxDD( 0
)DD0 1
;DD1 2
}EE 
}FF 
}GG 	
}HH 
}II åÄ
rC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\GUI\BookingGUI.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public 

partial 
class 

BookingGUI #
:$ %
Form& *
{ 
public 
int 
RoomID 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
ShowID 
{ 
get 
;  
set! $
;$ %
}& '
private 
CinemaContext 
cinemaContext +
;+ ,
public 

BookingGUI 
( 
int 
roomID $
,$ %
int& )
showID* 0
)0 1
{ 	
RoomID 
= 
roomID 
; 
ShowID 
= 
showID 
; 
cinemaContext 
= 
new 
CinemaContext  -
(- .
). /
;/ 0
InitializeComponent 
(  
)  !
;! "
initBokkingPanel 
( 
) 
; 
bindGrid 
( 
) 
; 
} 	
private   
void   
initBokkingPanel   %
(  % &
)  & '
{!! 	
panel1"" 
."" 
Enabled"" 
="" 
false"" "
;""" #
panel1## 
.## 
Controls## 
.## 
Clear## !
(##! "
)##" #
;### $
cinemaContext%% 
=%% 
new%% 
CinemaContext%%  -
(%%- .
)%%. /
;%%/ 0
Room&& 
room&& 
=&& 
cinemaContext&& %
.&&% &
Rooms&&& +
.&&+ ,
Find&&, 0
(&&0 1
RoomID&&1 7
)&&7 8
;&&8 9
int(( 
?(( 
height(( 
=(( 
room(( 
.(( 

NumberRows(( )
.(() *
Value((* /
;((/ 0
int)) 
width)) 
=)) 
room)) 
.)) 

NumberCols)) '
.))' (
Value))( -
;))- .
int++ 
startButtonPoint++  
=++! "
(++# $
panel1++$ *
.++* +
Width+++ 0
-++1 2
width++3 8
*++9 :
$num++; =
)++= >
/++? @
$num++A B
;++B C
string-- 

seatStatus-- 
=-- 
getSeatStatus--  -
(--- .
ShowID--. 4
)--4 5
;--5 6
int.. 
indexSeatStatus.. 
=..  !
$num.." #
;..# $
for// 
(// 
int// 
i// 
=// 
$num// 
;// 
i// 
<// 
width//  %
;//% &
i//' (
++//( *
)//* +
{00 
for11 
(11 
int11 
j11 
=11 
$num11 
;11 
j11  !
<11" #
height11$ *
;11* +
j11, -
++11- /
)11/ 0
{22 
CheckBox33 
checkbox33 %
=33& '
new33( +
CheckBox33, 4
(334 5
)335 6
{44 
Width55 
=55 
$num55  "
,55" #
Height66 
=66  
$num66! #
,66# $
Location77  
=77! "
new77# &
Point77' ,
(77, -
i77- .
*77/ 0
$num771 3
+774 5
startButtonPoint776 F
,77F G
j77H I
*77J K
$num77L N
)77N O
}88 
;88 
if:: 
(:: 

seatStatus:: "
.::" #
Length::# )
>::* +
$num::, -
&&::. 0

seatStatus::1 ;
[::; <
indexSeatStatus::< K
]::K L
==::M O
$num::P R
)::R S
{;; 
checkbox<<  
.<<  !
Checked<<! (
=<<) *
true<<+ /
;<</ 0
}== 
indexSeatStatus?? #
++??# %
;??% &
panel1AA 
.AA 
ControlsAA #
.AA# $
AddAA$ '
(AA' (
checkboxAA( 0
)AA0 1
;AA1 2
}BB 
}CC 
}DD 	
privateFF 
stringFF 
getSeatStatusFF $
(FF$ %
intFF% (
showIDFF) /
)FF/ 0
{GG 	
ListHH 
<HH 
BookingHH 
>HH 
listBookingHH %
=HH& '
cinemaContextHH( 5
.HH5 6
BookingsHH6 >
.HH> ?
AsEnumerableHH? K
(HHK L
)HHL M
.HHM N
WhereHHN S
(HHS T
bHHT U
=>HHV X
bHHY Z
.HHZ [
ShowIdHH[ a
==HHb d
showIDHHe k
)HHk l
.HHl m
ToListHHm s
(HHs t
)HHt u
;HHu v
StringBuilderII 
resultII  
=II! "
newII# &
StringBuilderII' 4
(II4 5
)II5 6
;II6 7
ifKK 
(KK 
listBookingKK 
.KK 
CountKK !
<=KK" $
$numKK% &
)KK& '
returnKK( .
resultKK/ 5
.KK5 6
ToStringKK6 >
(KK> ?
)KK? @
;KK@ A
forMM 
(MM 
intMM 
iMM 
=MM 
$numMM 
;MM 
iMM 
<MM 
listBookingMM  +
[MM+ ,
$numMM, -
]MM- .
.MM. /

SeatStatusMM/ 9
.MM9 :
LengthMM: @
;MM@ A
iMMB C
++MMC E
)MME F
{NN 
boolOO 
checkOO 
=OO 
falseOO "
;OO" #
foreachPP 
(PP 
BookingPP  
bookPP! %
inPP& (
listBookingPP) 4
)PP4 5
{QQ 
charRR 
cRR 
=RR 
bookRR !
.RR! "

SeatStatusRR" ,
[RR, -
iRR- .
]RR. /
;RR/ 0
ifSS 
(SS 
cSS 
==SS 
$numSS 
)SS  
{TT 
checkUU 
=UU 
trueUU  $
;UU$ %
}VV 
}WW 
ifYY 
(YY 
checkYY 
)YY 
resultYY !
.YY! "
AppendYY" (
(YY( )
$charYY) ,
)YY, -
;YY- .
elseYY/ 3
resultYY4 :
.YY: ;
AppendYY; A
(YYA B
$charYYB E
)YYE F
;YYF G
}ZZ 
return[[ 
result[[ 
.[[ 
ToString[[ "
([[" #
)[[# $
;[[$ %
}\\ 	
private^^ 
void^^ 
bindGrid^^ 
(^^ 
)^^ 
{__ 	
dataGridView1`` 
.`` 
Columns`` !
.``! "
Clear``" '
(``' (
)``( )
;``) *
cinemaContextbb 
=bb 
newbb 
CinemaContextbb  -
(bb- .
)bb. /
;bb/ 0
Listcc 
<cc 
Bookingcc 
>cc 
listBookingcc %
=cc& '
cinemaContextcc( 5
.cc5 6
Bookingscc6 >
.cc> ?
AsEnumerablecc? K
(ccK L
)ccL M
.ccM N
WhereccN S
(ccS T
bccT U
=>ccV X
bccY Z
.ccZ [
ShowIdcc[ a
==ccb d
ShowIDcce k
)cck l
.ccl m
ToListccm s
(ccs t
)cct u
;ccu v
dataGridView1dd 
.dd 

DataSourcedd $
=dd% &
listBookingdd' 2
;dd2 3
labCountff 
.ff 
Textff 
=ff 
$strff 2
+ff3 4
listBookingff5 @
.ff@ A
CountffA F
;ffF G
inthh 
counthh 
=hh 
dataGridView1hh %
.hh% &
Columnshh& -
.hh- .
Counthh. 3
;hh3 4$
DataGridViewButtonColumnjj $
btnEditjj% ,
=jj- .
newjj/ 2$
DataGridViewButtonColumnjj3 K
{kk 
Namell 
=ll 
$strll 
,ll  
Textmm 
=mm 
$strmm 
,mm  '
UseColumnTextForButtonValuenn +
=nn, -
truenn. 2
}oo 
;oo $
DataGridViewButtonColumnqq $
	btnDeleteqq% .
=qq/ 0
newqq1 4$
DataGridViewButtonColumnqq5 M
{rr 
Namess 
=ss 
$strss  
,ss  !
Texttt 
=tt 
$strtt  
,tt  !'
UseColumnTextForButtonValueuu +
=uu, -
trueuu. 2
}vv 
;vv 
dataGridView1xx 
.xx 
Columnsxx !
.xx! "
Insertxx" (
(xx( )
countxx) .
,xx. /
btnEditxx0 7
)xx7 8
;xx8 9
countyy 
=yy 
dataGridView1yy !
.yy! "
Columnsyy" )
.yy) *
Countyy* /
;yy/ 0
dataGridView1zz 
.zz 
Columnszz !
.zz! "
Insertzz" (
(zz( )
countzz) .
,zz. /
	btnDeletezz0 9
)zz9 :
;zz: ;
dataGridView1|| 
.|| 
Columns|| !
[||! "
$str||" -
]||- .
.||. /
Visible||/ 6
=||7 8
false||9 >
;||> ?
dataGridView1}} 
.}} 
Columns}} !
[}}! "
$str}}" *
]}}* +
.}}+ ,
Visible}}, 3
=}}4 5
false}}6 ;
;}}; <
}~~ 	
private
ÅÅ 
void
ÅÅ 
btnCreate_Click
ÅÅ $
(
ÅÅ$ %
object
ÅÅ% +
sender
ÅÅ, 2
,
ÅÅ2 3
	EventArgs
ÅÅ4 =
e
ÅÅ> ?
)
ÅÅ? @
{
ÇÇ 	
CreateBookingGUI
ÉÉ 
f
ÉÉ 
=
ÉÉ  
new
ÉÉ! $
CreateBookingGUI
ÉÉ% 5
(
ÉÉ5 6
RoomID
ÉÉ6 <
,
ÉÉ< =
ShowID
ÉÉ> D
)
ÉÉD E
;
ÉÉE F
DialogResult
ÑÑ 
dr
ÑÑ 
=
ÑÑ 
f
ÑÑ 
.
ÑÑ  

ShowDialog
ÑÑ  *
(
ÑÑ* +
)
ÑÑ+ ,
;
ÑÑ, -
if
ÜÜ 
(
ÜÜ 
dr
ÜÜ 
==
ÜÜ 
DialogResult
ÜÜ "
.
ÜÜ" #
OK
ÜÜ# %
)
ÜÜ% &
{
áá 
bindGrid
àà 
(
àà 
)
àà 
;
àà 
initBokkingPanel
ââ  
(
ââ  !
)
ââ! "
;
ââ" #
}
ää 
}
ãã 	
private
çç 
void
çç %
dataGridView1_CellClick
çç ,
(
çç, -
object
çç- 3
sender
çç4 :
,
çç: ;'
DataGridViewCellEventArgs
çç< U
e
ççV W
)
ççW X
{
éé 	
if
èè 
(
èè 
dataGridView1
èè 
.
èè 
Columns
èè %
[
èè% &
$str
èè& /
]
èè/ 0
!=
èè1 3
null
èè4 8
&&
èè9 ;
e
èè< =
.
èè= >
ColumnIndex
èè> I
==
èèJ L
dataGridView1
èèM Z
.
èèZ [
Columns
èè[ b
[
èèb c
$str
èèc l
]
èèl m
.
èèm n
Index
èèn s
&&
èèt v
e
èèw x
.
èèx y
RowIndexèèy Å
>=èèÇ Ñ
$numèèÖ Ü
)èèÜ á
{
êê 
BookingDetailsGUI
ëë !
f
ëë" #
=
ëë$ %
new
ëë& )
BookingDetailsGUI
ëë* ;
(
ëë; <
RoomID
ëë< B
,
ëëB C
ShowID
ëëD J
,
ëëJ K
new
ëëL O
Booking
ëëP W
(
ëëW X
)
ëëX Y
{
íí 
Name
ìì 
=
ìì 
dataGridView1
ìì (
[
ìì( )
dataGridView1
ìì) 6
.
ìì6 7
Columns
ìì7 >
[
ìì> ?
$str
ìì? E
]
ììE F
.
ììF G
Index
ììG L
,
ììL M
e
ììN O
.
ììO P
RowIndex
ììP X
]
ììX Y
.
ììY Z
Value
ììZ _
.
ìì_ `
ToString
ìì` h
(
ììh i
)
ììi j
,
ììj k

SeatStatus
îî 
=
îî  
dataGridView1
îî! .
[
îî. /
dataGridView1
îî/ <
.
îî< =
Columns
îî= D
[
îîD E
$str
îîE Q
]
îîQ R
.
îîR S
Index
îîS X
,
îîX Y
e
îîZ [
.
îî[ \
RowIndex
îî\ d
]
îîd e
.
îîe f
Value
îîf k
.
îîk l
ToString
îîl t
(
îît u
)
îîu v
.
îîv w
Trim
îîw {
(
îî{ |
)
îî| }
,
îî} ~
Amount
ïï 
=
ïï 
decimal
ïï $
.
ïï$ %
Parse
ïï% *
(
ïï* +
dataGridView1
ïï+ 8
[
ïï8 9
dataGridView1
ïï9 F
.
ïïF G
Columns
ïïG N
[
ïïN O
$str
ïïO W
]
ïïW X
.
ïïX Y
Index
ïïY ^
,
ïï^ _
e
ïï` a
.
ïïa b
RowIndex
ïïb j
]
ïïj k
.
ïïk l
Value
ïïl q
.
ïïq r
ToString
ïïr z
(
ïïz {
)
ïï{ |
)
ïï| }
}
ññ 
)
ññ 
;
ññ 
DialogResult
óó 
dr
óó 
=
óó  !
f
óó" #
.
óó# $

ShowDialog
óó$ .
(
óó. /
)
óó/ 0
;
óó0 1
}
òò 
if
öö 
(
öö 
dataGridView1
öö 
.
öö 
Columns
öö %
[
öö% &
$str
öö& .
]
öö. /
!=
öö0 2
null
öö3 7
&&
öö8 :
e
öö; <
.
öö< =
ColumnIndex
öö= H
==
ööI K
dataGridView1
ööL Y
.
ööY Z
Columns
ööZ a
[
ööa b
$str
ööb j
]
ööj k
.
öök l
Index
ööl q
&&
öör t
e
ööu v
.
ööv w
RowIndex
ööw 
>=ööÄ Ç
$numööÉ Ñ
)ööÑ Ö
{
õõ 
int
úú 
	bookingID
úú 
=
úú 
(
úú  !
int
úú! $
)
úú$ %
dataGridView1
úú% 2
.
úú2 3
Rows
úú3 7
[
úú7 8
e
úú8 9
.
úú9 :
RowIndex
úú: B
]
úúB C
.
úúC D
Cells
úúD I
[
úúI J
$str
úúJ U
]
úúU V
.
úúV W
Value
úúW \
;
úú\ ]
DialogResult
ûû 
dr
ûû 
=
ûû  !

MessageBox
ûû" ,
.
ûû, -
Show
ûû- 1
(
ûû1 2
$str
ûû2 K
,
ûûK L
$str
ûûM V
,
ûûV W
MessageBoxButtons
ûûX i
.
ûûi j
YesNo
ûûj o
)
ûûo p
;
ûûp q
if
üü 
(
üü 
dr
üü 
==
üü 
DialogResult
üü &
.
üü& '
Yes
üü' *
)
üü* +
{
†† 
cinemaContext
°° !
.
°°! "
Bookings
°°" *
.
°°* +
Remove
°°+ 1
(
°°1 2
cinemaContext
°°2 ?
.
°°? @
Bookings
°°@ H
.
°°H I
Find
°°I M
(
°°M N
	bookingID
°°N W
)
°°W X
)
°°X Y
;
°°Y Z
cinemaContext
¢¢ !
.
¢¢! "
SaveChanges
¢¢" -
(
¢¢- .
)
¢¢. /
;
¢¢/ 0
bindGrid
££ 
(
££ 
)
££ 
;
££ 
initBokkingPanel
§§ $
(
§§$ %
)
§§% &
;
§§& '
}
•• 
}
¶¶ 
}
ßß 	
}
®® 
}©© ºn
xC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\GUI\CreateBookingGUI.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public 

partial 
class 
CreateBookingGUI )
:* +
Form, 0
{ 
private 
List 
< 
List 
< 
CheckBox "
>" #
># $
listSeat% -
;- .
public 
int 
ShowID 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
RoomID 
{ 
get 
;  
set! $
;$ %
}& '
public 
decimal 
	ShowPrice  
{! "
get# &
;& '
set( +
;+ ,
}- .
private 
CinemaContext 
cinemaContext +
;+ ,
public 
CreateBookingGUI 
(  
int  #
roomID$ *
,* +
int, /
showID0 6
)6 7
{ 	
InitializeComponent 
(  
)  !
;! "
cinemaContext 
= 
new 
CinemaContext  -
(- .
). /
;/ 0
ShowID 
= 
showID 
; 
RoomID 
= 
roomID 
; 
	ShowPrice 
= 
cinemaContext %
.% &
Shows& +
.+ ,
Find, 0
(0 1
showID1 7
)7 8
.8 9
Price9 >
.> ?
Value? D
;D E
initBokkingPanel 
( 
) 
; 
}   	
private"" 
void"" 
initBokkingPanel"" %
(""% &
)""& '
{## 	
listSeat$$ 
=$$ 
new$$ 
List$$ 
<$$  
List$$  $
<$$$ %
CheckBox$$% -
>$$- .
>$$. /
($$/ 0
)$$0 1
;$$1 2
Room'' 
room'' 
='' 
cinemaContext'' %
.''% &
Rooms''& +
.''+ ,
Find'', 0
(''0 1
RoomID''1 7
)''7 8
;''8 9
int)) 
height)) 
=)) 
room)) 
.)) 

NumberRows)) (
.))( )
Value))) .
;)). /
int** 
width** 
=** 
room** 
.** 

NumberCols** '
.**' (
Value**( -
;**- .
int,, 
startButtonPoint,,  
=,,! "
(,,# $
panel1,,$ *
.,,* +
Width,,+ 0
-,,1 2
width,,3 8
*,,9 :
$num,,; =
),,= >
/,,? @
$num,,A B
;,,B C
string.. 

seatStatus.. 
=.. 
getSeatStatus..  -
(..- .
ShowID... 4
)..4 5
;..5 6
int// 
indexSeatStatus// 
=//  !
$num//" #
;//# $
for00 
(00 
int00 
i00 
=00 
$num00 
;00 
i00 
<00 
width00  %
;00% &
i00' (
++00( *
)00* +
{11 
listSeat22 
.22 
Add22 
(22 
new22  
List22! %
<22% &
CheckBox22& .
>22. /
(22/ 0
)220 1
)221 2
;222 3
for44 
(44 
int44 
j44 
=44 
$num44 
;44 
j44  !
<44" #
height44$ *
;44* +
j44, -
++44- /
)44/ 0
{55 
CheckBox66 
checkbox66 %
=66& '
new66( +
CheckBox66, 4
(664 5
)665 6
{77 
Width88 
=88 
$num88  "
,88" #
Height99 
=99  
$num99! #
,99# $
Location::  
=::! "
new::# &
Point::' ,
(::, -
i::- .
*::/ 0
$num::1 3
+::4 5
startButtonPoint::6 F
,::F G
j::H I
*::J K
$num::L N
)::N O
};; 
;;; 
if== 
(== 

seatStatus== "
.==" #
Length==# )
>==* +
$num==, -
&&==. 0

seatStatus==1 ;
[==; <
indexSeatStatus==< K
]==K L
====M O
$num==P R
)==R S
{>> 
checkbox??  
.??  !
Checked??! (
=??) *
true??+ /
;??/ 0
checkbox@@  
.@@  !
Enabled@@! (
=@@) *
false@@+ 0
;@@0 1
}AA 
indexSeatStatusBB #
++BB# %
;BB% &
checkboxDD 
.DD 
CheckedChangedDD +
+=DD, .#
Checkbox_CheckedChangedDD/ F
;DDF G
listSeatFF 
[FF 
iFF 
]FF 
.FF  
AddFF  #
(FF# $
checkboxFF$ ,
)FF, -
;FF- .
panel1GG 
.GG 
ControlsGG #
.GG# $
AddGG$ '
(GG' (
checkboxGG( 0
)GG0 1
;GG1 2
}HH 
}II 
}JJ 	
privateLL 
voidLL #
Checkbox_CheckedChangedLL ,
(LL, -
objectLL- 3
senderLL4 :
,LL: ;
	EventArgsLL< E
eLLF G
)LLG H
{MM 	
ifNN 
(NN 
(NN 
(NN 
CheckBoxNN 
)NN 
senderNN !
)NN! "
.NN" #
CheckedNN# *
&&NN+ -
(NN. /
(NN/ 0
CheckBoxNN0 8
)NN8 9
senderNN9 ?
)NN? @
.NN@ A
EnabledNNA H
)NNH I
	txtAmountNNJ S
.NNS T
TextNNT X
=NNY Z
(NN[ \
decimalNN\ c
.NNc d
ParseNNd i
(NNi j
	txtAmountNNj s
.NNs t
TextNNt x
)NNx y
+NNz {
	ShowPrice	NN| Ö
)
NNÖ Ü
.
NNÜ á
ToString
NNá è
(
NNè ê
)
NNê ë
;
NNë í
ifOO 
(OO 
!OO 
(OO 
(OO 
CheckBoxOO 
)OO 
senderOO "
)OO" #
.OO# $
CheckedOO$ +
&&OO, .
(OO/ 0
(OO0 1
CheckBoxOO1 9
)OO9 :
senderOO: @
)OO@ A
.OOA B
EnabledOOB I
)OOI J
	txtAmountOOK T
.OOT U
TextOOU Y
=OOZ [
(OO\ ]
decimalOO] d
.OOd e
ParseOOe j
(OOj k
	txtAmountOOk t
.OOt u
TextOOu y
)OOy z
-OO{ |
	ShowPrice	OO} Ü
)
OOÜ á
.
OOá à
ToString
OOà ê
(
OOê ë
)
OOë í
;
OOí ì
}PP 	
privateRR 
stringRR 
getSeatStatusRR $
(RR$ %
intRR% (
showIDRR) /
)RR/ 0
{SS 	
ListTT 
<TT 
BookingTT 
>TT 
listBookingTT %
=TT& '
cinemaContextTT( 5
.TT5 6
BookingsTT6 >
.TT> ?
AsEnumerableTT? K
(TTK L
)TTL M
.TTM N
WhereTTN S
(TTS T
bTTT U
=>TTV X
bTTY Z
.TTZ [
ShowIdTT[ a
==TTb d
showIDTTe k
)TTk l
.TTl m
ToListTTm s
(TTs t
)TTt u
;TTu v
StringBuilderUU 
resultUU  
=UU! "
newUU# &
StringBuilderUU' 4
(UU4 5
)UU5 6
;UU6 7
ifWW 
(WW 
listBookingWW 
.WW 
CountWW !
<=WW" $
$numWW% &
)WW& '
returnWW( .
resultWW/ 5
.WW5 6
ToStringWW6 >
(WW> ?
)WW? @
;WW@ A
forYY 
(YY 
intYY 
iYY 
=YY 
$numYY 
;YY 
iYY 
<YY 
listBookingYY  +
[YY+ ,
$numYY, -
]YY- .
.YY. /

SeatStatusYY/ 9
.YY9 :
LengthYY: @
;YY@ A
iYYB C
++YYC E
)YYE F
{ZZ 
bool[[ 
check[[ 
=[[ 
false[[ "
;[[" #
foreach\\ 
(\\ 
Booking\\  
book\\! %
in\\& (
listBooking\\) 4
)\\4 5
{]] 
char^^ 
c^^ 
=^^ 
book^^ !
.^^! "

SeatStatus^^" ,
[^^, -
i^^- .
]^^. /
;^^/ 0
if__ 
(__ 
c__ 
==__ 
$num__ 
)__  
{`` 
checkaa 
=aa 
trueaa  $
;aa$ %
}bb 
}cc 
ifee 
(ee 
checkee 
)ee 
resultee !
.ee! "
Appendee" (
(ee( )
$charee) ,
)ee, -
;ee- .
elseee/ 3
resultee4 :
.ee: ;
Appendee; A
(eeA B
$chareeB E
)eeE F
;eeF G
}ff 
returngg 
resultgg 
.gg 
ToStringgg "
(gg" #
)gg# $
;gg$ %
}hh 	
privatejj 
voidjj 
btnSave_Clickjj "
(jj" #
objectjj# )
senderjj* 0
,jj0 1
	EventArgsjj2 ;
ejj< =
)jj= >
{kk 	
stringll 
namell 
=ll 
txtNamell !
.ll! "
Textll" &
;ll& '
decimalmm 
amountmm 
=mm 
decimalmm $
.mm$ %
Parsemm% *
(mm* +
	txtAmountmm+ 4
.mm4 5
Textmm5 9
)mm9 :
;mm: ;
stringnn 

seatStatusnn 
=nn 
$strnn  "
;nn" #
foreachpp 
(pp 
Listpp 
<pp 
CheckBoxpp "
>pp" #
listCheckBoxpp$ 0
inpp1 3
listSeatpp4 <
)pp< =
{qq 
foreachrr 
(rr 
CheckBoxrr !
checkboxrr" *
inrr+ -
listCheckBoxrr. :
)rr: ;
{ss 
iftt 
(tt 
checkboxtt  
.tt  !
Checkedtt! (
&&tt) +
checkboxtt, 4
.tt4 5
Enabledtt5 <
==tt= ?
truett@ D
)ttD E
{uu 

seatStatusvv "
+=vv# %
$strvv& )
;vv) *
}ww 
elsexx 
{yy 

seatStatuszz "
+=zz# %
$strzz& )
;zz) *
}{{ 
}|| 
}}} 
if 
( 

seatStatus 
. 
IndexOf "
(" #
$str# &
)& '
<( )
$num* +
)+ ,
{
ÄÄ 

MessageBox
ÅÅ 
.
ÅÅ 
Show
ÅÅ 
(
ÅÅ  
$str
ÅÅ  A
)
ÅÅA B
;
ÅÅB C
this
ÇÇ 
.
ÇÇ 
DialogResult
ÇÇ !
=
ÇÇ" #
DialogResult
ÇÇ$ 0
.
ÇÇ0 1
None
ÇÇ1 5
;
ÇÇ5 6
return
ÉÉ 
;
ÉÉ 
}
ÑÑ 
if
ÜÜ 
(
ÜÜ 
name
ÜÜ 
.
ÜÜ 
Length
ÜÜ 
==
ÜÜ 
$num
ÜÜ  
)
ÜÜ  !
{
áá 

MessageBox
àà 
.
àà 
Show
àà 
(
àà  
$str
àà  8
)
àà8 9
;
àà9 :
this
ââ 
.
ââ 
DialogResult
ââ !
=
ââ" #
DialogResult
ââ$ 0
.
ââ0 1
None
ââ1 5
;
ââ5 6
return
ää 
;
ää 
}
ãã 
Booking
çç 
booking
çç 
=
çç 
new
çç !
Booking
çç" )
(
çç) *
)
çç* +
{
éé 
ShowId
èè 
=
èè 
ShowID
èè 
,
èè  
Name
êê 
=
êê 
name
êê 
,
êê 

SeatStatus
ëë 
=
ëë 

seatStatus
ëë '
,
ëë' (
Amount
íí 
=
íí 
amount
íí 
}
ìì 
;
ìì 
cinemaContext
ïï 
.
ïï 
Bookings
ïï "
.
ïï" #
Add
ïï# &
(
ïï& '
booking
ïï' .
)
ïï. /
;
ïï/ 0
cinemaContext
ññ 
.
ññ 
SaveChanges
ññ %
(
ññ% &
)
ññ& '
;
ññ' (
}
óó 	
private
ôô 
void
ôô 
txtAmount_KeyUp
ôô $
(
ôô$ %
object
ôô% +
sender
ôô, 2
,
ôô2 3
KeyEventArgs
ôô4 @
e
ôôA B
)
ôôB C
{
öö 	
try
õõ 
{
úú 
if
ùù 
(
ùù 
decimal
ùù 
.
ùù 
Parse
ùù !
(
ùù! "
	txtAmount
ùù" +
.
ùù+ ,
Text
ùù, 0
)
ùù0 1
<
ùù2 3
$num
ùù4 5
)
ùù5 6
{
ùù7 8
	txtAmount
ùù9 B
.
ùùB C
Text
ùùC G
=
ùùH I
$str
ùùJ M
;
ùùM N
}
ùùO P
}
ûû 
catch
üü 
(
üü 
	Exception
üü 
)
üü 
{
†† 
	txtAmount
°° 
.
°° 
Text
°° 
=
°°  
$str
°°! $
;
°°$ %
}
¢¢ 
}
££ 	
}
§§ 
}•• –
pC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\GUI\LoginGUI.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public 

partial 
class 
LoginGUI !
:" #
Form$ (
{ 
public 
LoginGUI 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
private 
void 
btnLogin_Click #
(# $
object$ *
sender+ 1
,1 2
	EventArgs3 <
e= >
)> ?
{ 	
string 
name 
, 
pass 
; 
var 
conf 
= 
new  
ConfigurationBuilder /
(/ 0
)0 1
. 
SetBasePath 
( 
	Directory &
.& '
GetCurrentDirectory' :
(: ;
); <
)< =
. 
AddJsonFile 
( 
$str /
,/ 0
true1 5
,5 6
true7 ;
); <
. 
Build 
( 
) 
; 
name 
= 
conf 
[ 
$str #
]# $
;$ %
pass 
= 
conf 
[ 
$str '
]' (
;( )
if 
( 
txtName 
. 
Text 
== 
name  $
&&% '
txtPassword( 3
.3 4
Text4 8
==9 ;
pass< @
)@ A
{   
Settings!! 
.!! 
UserName!! !
=!!" #
name!!$ (
;!!( )

MessageBox"" 
."" 
Show"" 
(""  
$str""  D
)""D E
;""E F
}## 
else$$ 

MessageBox%% 
.%% 
Show%% 
(%%  
$str%%  6
)%%6 7
;%%7 8
}'' 	
}(( 
})) ï!
oC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\GUI\MainGUI.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public 

partial 
class 
MainGUI  
:! "
Form# '
{ 
public 
MainGUI 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "!
toolStripStatusLabel1 !
.! "
Text" &
=' (
$str) v
;v w
} 	
private 
void '
exitToolStripMenuItem_Click 0
(0 1
object1 7
sender8 >
,> ?
	EventArgs@ I
eJ K
)K L
{ 	
Application 
. 
Exit 
( 
) 
; 
} 	
private 
void (
loginToolStripMenuItem_Click 1
(1 2
object2 8
sender9 ?
,? @
	EventArgsA J
eK L
)L M
{ 	
if 
( 
! "
loginToolStripMenuItem '
.' (
Text( ,
., -
Equals- 3
(3 4
$str4 ;
); <
)< =
{ 
Settings   
.   
UserName   !
=  " #
$str  $ &
;  & '

MessageBox!! 
.!! 
Show!! 
(!!  
$str!!  2
)!!2 3
;!!3 4
}"" 
else"" 
{## 
LoginGUI$$ 
f$$ 
=$$ 
new$$  
LoginGUI$$! )
($$) *
)$$* +
;$$+ ,
DialogResult%% 
dr%% 
=%%  !
f%%" #
.%%# $

ShowDialog%%$ .
(%%. /
)%%/ 0
;%%0 1
}&& 
if(( 
((( 
toolStripContainer1(( #
.((# $
ContentPanel(($ 0
.((0 1
Controls((1 9
.((9 :
Count((: ?
>((@ A
$num((B C
)((C D!
showToolStripMenuItem((E Z
.((Z [
PerformClick(([ g
(((g h
)((h i
;((i j
})) 	
private++ 
void++ 
MainGUI_Activated++ &
(++& '
object++' -
sender++. 4
,++4 5
	EventArgs++6 ?
e++@ A
)++A B
{,, 	
if-- 
(-- 
Settings-- 
.-- 
UserName-- !
==--" $
$str--% '
)--' ("
loginToolStripMenuItem.. &
...& '
Text..' +
=.., -
$str... 5
;..5 6
else// "
loginToolStripMenuItem00 &
.00& '
Text00' +
=00, -
$"00. 0
$str000 8
{008 9
Settings009 A
.00A B
UserName00B J
}00J K
$str00K L
"00L M
;00M N
}22 	
private44 
void44 '
showToolStripMenuItem_Click44 0
(440 1
object441 7
sender448 >
,44> ?
	EventArgs44@ I
e44J K
)44K L
{55 	
ShowGUI66 
f66 
=66 
new66 
ShowGUI66 #
(66# $
)66$ %
;66% &
f77 
.77 
TopLevel77 
=77 
false77 
;77 
f88 
.88 
FormBorderStyle88 
=88 
FormBorderStyle88  /
.88/ 0
None880 4
;884 5
f99 
.99 
Show99 
(99 
)99 
;99 
toolStripContainer1;; 
.;;  
ContentPanel;;  ,
.;;, -
Controls;;- 5
.;;5 6
Clear;;6 ;
(;;; <
);;< =
;;;= >
toolStripContainer1<< 
.<<  
ContentPanel<<  ,
.<<, -
Controls<<- 5
.<<5 6
Add<<6 9
(<<9 :
f<<: ;
)<<; <
;<<< =
}== 	
}?? 
}@@ æ
pC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\GUI\Settings.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public		 

class		 
Settings		 
{

 
public 
static 
string 
UserName %
=& '
$str( *
;* +
} 
} Æc
vC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\GUI\ShowAddEditGUI.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public 

partial 
class 
ShowAddEditGUI '
:( )
Form* .
{ 
int 
add 
; 
Show 
currentShow 
; 
private 
CinemaContext 
cinemaContext +
;+ ,
public 
ShowAddEditGUI 
( 
Show "
show# '
)' (
{ 	
InitializeComponent 
(  
)  !
;! "
cinemaContext 
= 
new 
CinemaContext  -
(- .
). /
;/ 0
currentShow 
= 
show 
; 
if 
( 
show 
. 
ShowId 
== 
$num  
)  !
add" %
=& '
$num( )
;) *
else 
add 
= 
$num 
; 
if 
( 
add 
== 
$num 
) 
{ 
dtpShowDate 
. 
Value !
=" #
show$ (
.( )
ShowDate) 1
.1 2
Value2 7
;7 8
	cboRoomId 
. 

DataSource $
=% &
cinemaContext' 4
.4 5
Rooms5 :
.: ;
ToList; A
(A B
)B C
;C D
	cboRoomId 
. 
DisplayMember '
=( )
$str* 0
;0 1
	cboRoomId   
.   
ValueMember   %
=  & '
$str  ( 0
;  0 1
	cboRoomId!! 
.!! 
SelectedValue!! '
=!!( )
show!!* .
.!!. /
RoomId!!/ 5
;!!5 6
List## 
<## 
Show## 
>## 
listShow## #
=##$ %
cinemaContext##& 3
.##3 4
Shows##4 9
.##9 :
ToList##: @
(##@ A
)##A B
;##B C
var$$ 
listShowByIdAndDate$$ '
=$$( )
listShow$$* 2
.$$2 3
Where$$3 8
($$8 9
s$$9 :
=>$$; =
s$$> ?
.$$? @
RoomId$$@ F
==$$G I
show$$J N
.$$N O
RoomId$$O U
&&$$V X
s$$Y Z
.$$Z [
ShowDate$$[ c
.$$c d
Value$$d i
==$$j l
show$$m q
.$$q r
ShowDate$$r z
.$$z {
Value	$${ Ä
)
$$Ä Å
;
$$Å Ç
List&& 
<&& 
int&& 
>&& 
	availSlot&& #
=&&$ %
new&&& )
List&&* .
<&&. /
int&&/ 2
>&&2 3
(&&3 4
)&&4 5
{&&6 7
$num&&8 9
,&&9 :
$num&&: ;
,&&; <
$num&&< =
,&&= >
$num&&> ?
,&&? @
$num&&@ A
,&&A B
$num&&B C
,&&C D
$num&&D E
,&&E F
$num&&F G
,&&G H
$num&&H I
}&&I J
;&&J K
foreach(( 
((( 
Show(( 
s(( 
in(( !
listShowByIdAndDate((" 5
)((5 6
{)) 
	availSlot** 
.** 
Remove** $
(**$ %
s**% &
.**& '
Slot**' +
.**+ ,
Value**, 1
)**1 2
;**2 3
}++ 
	availSlot-- 
.-- 
Add-- 
(-- 
show-- "
.--" #
Slot--# '
.--' (
Value--( -
)--- .
;--. /
cboSlot.. 
... 

DataSource.. "
=..# $
	availSlot..% .
;... /
cboSlot// 
.// 
SelectedItem// $
=//% &
show//' +
.//+ ,
Slot//, 0
;//0 1
	cboFilmId11 
.11 

DataSource11 $
=11% &
cinemaContext11' 4
.114 5
Films115 :
.11: ;
ToList11; A
(11A B
)11B C
;11C D
	cboFilmId22 
.22 
DisplayMember22 '
=22( )
$str22* 1
;221 2
	cboFilmId33 
.33 
ValueMember33 %
=33& '
$str33( 0
;330 1
	cboFilmId44 
.44 
SelectedValue44 '
=44( )
show44* .
.44. /
FilmId44/ 5
;445 6
txtPrice66 
.66 
Text66 
=66 
show66  $
.66$ %
Price66% *
.66* +
ToString66+ 3
(663 4
)664 5
;665 6
}77 
if99 
(99 
add99 
==99 
$num99 
)99 
{:: 
dtpShowDate;; 
.;; 
Value;; !
=;;" #
show;;$ (
.;;( )
ShowDate;;) 1
.;;1 2
Value;;2 7
;;;7 8
	cboRoomId<< 
.<< 

DataSource<< $
=<<% &
cinemaContext<<' 4
.<<4 5
Rooms<<5 :
.<<: ;
ToList<<; A
(<<A B
)<<B C
;<<C D
	cboRoomId== 
.== 
DisplayMember== '
===( )
$str==* 0
;==0 1
	cboRoomId>> 
.>> 
ValueMember>> %
=>>& '
$str>>( 0
;>>0 1
	cboRoomId?? 
.?? 
SelectedValue?? '
=??( )
show??* .
.??. /
RoomId??/ 5
;??5 6
ListAA 
<AA 
ShowAA 
>AA 
listShowAA #
=AA$ %
cinemaContextAA& 3
.AA3 4
ShowsAA4 9
.AA9 :
ToListAA: @
(AA@ A
)AAA B
;AAB C
varBB 
listShowByIdAndDateBB '
=BB( )
listShowBB* 2
.BB2 3
WhereBB3 8
(BB8 9
sBB9 :
=>BB; =
sBB> ?
.BB? @
RoomIdBB@ F
==BBG I
showBBJ N
.BBN O
RoomIdBBO U
&&BBV X
sBBY Z
.BBZ [
ShowDateBB[ c
.BBc d
ValueBBd i
==BBj l
showBBm q
.BBq r
ShowDateBBr z
.BBz {
Value	BB{ Ä
)
BBÄ Å
;
BBÅ Ç
ListDD 
<DD 
intDD 
>DD 
	availSlotDD #
=DD$ %
newDD& )
ListDD* .
<DD. /
intDD/ 2
>DD2 3
(DD3 4
)DD4 5
{DD6 7
$numDD8 9
,DD9 :
$numDD; <
,DD< =
$numDD> ?
,DD? @
$numDDA B
,DDB C
$numDDD E
,DDE F
$numDDG H
,DDH I
$numDDJ K
,DDK L
$numDDM N
,DDN O
$numDDP Q
}DDR S
;DDS T
foreachFF 
(FF 
ShowFF 
sFF 
inFF  "
listShowByIdAndDateFF# 6
)FF6 7
{GG 
	availSlotHH 
.HH 
RemoveHH $
(HH$ %
sHH% &
.HH& '
SlotHH' +
.HH+ ,
ValueHH, 1
)HH1 2
;HH2 3
}II 
cboSlotKK 
.KK 

DataSourceKK "
=KK# $
	availSlotKK% .
;KK. /
	cboFilmIdMM 
.MM 

DataSourceMM $
=MM% &
cinemaContextMM' 4
.MM4 5
FilmsMM5 :
.MM: ;
ToListMM; A
(MMA B
)MMB C
;MMC D
	cboFilmIdNN 
.NN 
DisplayMemberNN '
=NN( )
$strNN* 1
;NN1 2
	cboFilmIdOO 
.OO 
ValueMemberOO %
=OO& '
$strOO( 0
;OO0 1
	cboFilmIdPP 
.PP 
SelectedValuePP '
=PP( )
showPP* .
.PP. /
FilmIdPP/ 5
;PP5 6
}QQ 
}RR 	
privateTT 
voidTT 
btnSave_ClickTT "
(TT" #
objectTT# )
senderTT* 0
,TT0 1
	EventArgsTT2 ;
eTT< =
)TT= >
{UU 	
ShowVV 
newShowVV 
=VV 
newVV 
ShowVV #
(VV# $
)VV$ %
{VV& '
ShowIdWW 
=WW 
currentShowWW $
.WW$ %
ShowIdWW% +
,WW+ ,
RoomIdXX 
=XX 
(XX 
intXX 
)XX 
	cboRoomIdXX '
.XX' (
SelectedValueXX( 5
,XX5 6
FilmIdYY 
=YY 
(YY 
intYY 
)YY 
	cboFilmIdYY '
.YY' (
SelectedValueYY( 5
,YY5 6
ShowDateZZ 
=ZZ 
dtpShowDateZZ &
.ZZ& '
ValueZZ' ,
,ZZ, -
Price[[ 
=[[ 
decimal[[ 
.[[  
Parse[[  %
([[% &
txtPrice[[& .
.[[. /
Text[[/ 3
)[[3 4
,[[4 5
Status\\ 
=\\ 
true\\ 
,\\ 
Slot]] 
=]] 
int]] 
.]] 
Parse]]  
(]]  !
cboSlot]]! (
.]]( )
Text]]) -
)]]- .
}^^ 
;^^ 
if`` 
(`` 
add`` 
==`` 
$num`` 
)`` 
{aa 
Showbb 
showbb 
=bb 
cinemaContextbb )
.bb) *
Showsbb* /
.bb/ 0
Findbb0 4
(bb4 5
currentShowbb5 @
.bb@ A
ShowIdbbA G
)bbG H
;bbH I
showcc 
.cc 
RoomIdcc 
=cc 
(cc 
intcc "
)cc" #
	cboRoomIdcc# ,
.cc, -
SelectedValuecc- :
;cc: ;
showdd 
.dd 
FilmIddd 
=dd 
(dd 
intdd "
)dd" #
	cboFilmIddd# ,
.dd, -
SelectedValuedd- :
;dd: ;
showee 
.ee 
ShowDateee 
=ee 
dtpShowDateee  +
.ee+ ,
Valueee, 1
;ee1 2
showff 
.ff 
Priceff 
=ff 
decimalff $
.ff$ %
Parseff% *
(ff* +
txtPriceff+ 3
.ff3 4
Textff4 8
)ff8 9
;ff9 :
showgg 
.gg 
Statusgg 
=gg 
truegg "
;gg" #
showhh 
.hh 
Slothh 
=hh 
inthh 
.hh  
Parsehh  %
(hh% &
cboSlothh& -
.hh- .
Texthh. 2
)hh2 3
;hh3 4
cinemaContextii 
.ii 
SaveChangesii )
(ii) *
)ii* +
;ii+ ,

MessageBoxjj 
.jj 
Showjj 
(jj  
$strjj  6
)jj6 7
;jj7 8
}kk 
ifll 
(ll 
addll 
==ll 
$numll 
)ll 
{mm 
cinemaContextnn 
.nn 
Showsnn #
.nn# $
Addnn$ '
(nn' (
newShownn( /
)nn/ 0
;nn0 1
cinemaContextoo 
.oo 
SaveChangesoo )
(oo) *
)oo* +
;oo+ ,

MessageBoxpp 
.pp 
Showpp 
(pp  
$strpp  6
)pp6 7
;pp7 8
}qq 
}ss 	
privateuu 
voiduu 
txtPrice_KeyUpuu #
(uu# $
objectuu$ *
senderuu+ 1
,uu1 2
KeyEventArgsuu3 ?
euu@ A
)uuA B
{vv 	
tryww 
{xx 
ifyy 
(yy 
decimalyy 
.yy 
Parseyy !
(yy! "
txtPriceyy" *
.yy* +
Textyy+ /
)yy/ 0
<yy1 2
$numyy3 4
)yy4 5
{yy6 7
txtPriceyy8 @
.yy@ A
TextyyA E
=yyF G
$stryyH K
;yyK L
}yyM N
}zz 
catchzz 
(zz 
	Exceptionzz 
)zz 
{zz  !
txtPrice{{ 
.{{ 
Text{{ 
={{ 
$str{{  #
;{{# $
}|| 
}}} 	
}~~ 
} ∫ä
oC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\GUI\ShowGUI.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public 

partial 
class 
ShowGUI  
:! "
Form# '
{ 
private 
CinemaContext 
cinemaContext +
;+ ,
public 
ShowGUI 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
cinemaContext 
= 
new 
CinemaContext  -
(- .
). /
;/ 0
List 
< 
Show 
> 
dt 
= 
cinemaContext )
.) *
Shows* /
./ 0
ToList0 6
(6 7
)7 8
;8 9
bindGrid 
( 
dt 
) 
; 

bindSearch 
( 
) 
; 
} 	
void 

bindSearch 
( 
) 
{ 	
List 
< 
Film 
> 
dt 
= 
cinemaContext )
.) *
Films* /
./ 0
ToList0 6
(6 7
)7 8
;8 9
dt   
.   
Insert   
(   
$num   
,   
new   
Film   !
(  ! "
)  " #
{  $ %
FilmId!! 
=!! 
$num!! 
,!! 
GenreId"" 
="" 
$num"" 
,"" 
Title## 
=## 
$str## 
,## 
Year$$ 
=$$ 
$num$$ 
,$$ 
CountryCode%% 
=%% 
$str%% "
}&& 
)&& 
;&& 
cboFilm(( 
.(( 

DataSource(( 
=((  
dt((! #
;((# $
cboFilm)) 
.)) 
DisplayMember)) !
=))" #
$str))$ +
;))+ ,
cboFilm** 
.** 
ValueMember** 
=**  !
$str**" *
;*** +
cboRoom,, 
.,, 

DataSource,, 
=,,  
cinemaContext,,! .
.,,. /
Rooms,,/ 4
.,,4 5
ToList,,5 ;
(,,; <
),,< =
;,,= >
cboRoom-- 
.-- 
DisplayMember-- !
=--" #
$str--$ *
;--* +
cboRoom.. 
... 
ValueMember.. 
=..  !
$str.." *
;..* +
}// 	
void00 
bindGrid00 
(00 
List00 
<00 
Show00 
>00  
listShow00! )
)00) *
{11 	
dataGridView122 
.22 
Columns22 !
.22! "
Clear22" '
(22' (
)22( )
;22) *
dataGridView133 
.33 

DataSource33 $
=33% &
listShow33' /
;33/ 0

labNumShow55 
.55 
Text55 
=55 
$str55 5
+556 7
listShow558 @
.55@ A
Count55A F
;55F G
if77 
(77 
Settings77 
.77 
UserName77 !
.77! "
Equals77" (
(77( )
$str77) 0
)770 1
)771 2
{88 
btnAdd99 
.99 
Visible99 
=99  
true99! %
;99% &
int:: 
count:: 
=:: 
dataGridView1:: )
.::) *
Columns::* 1
.::1 2
Count::2 7
;::7 8$
DataGridViewButtonColumn<< (
btnEdit<<) 0
=<<1 2
new<<3 6$
DataGridViewButtonColumn<<7 O
{== 
Name>> 
=>> 
$str>> !
,>>! "
Text?? 
=?? 
$str?? !
,??! "'
UseColumnTextForButtonValue@@ /
=@@0 1
true@@2 6
}AA 
;AA $
DataGridViewButtonColumnCC (
	btnDeleteCC) 2
=CC3 4
newCC5 8$
DataGridViewButtonColumnCC9 Q
{DD 
NameEE 
=EE 
$strEE #
,EE# $
TextFF 
=FF 
$strFF #
,FF# $'
UseColumnTextForButtonValueGG /
=GG0 1
trueGG2 6
}HH 
;HH 
dataGridView1JJ 
.JJ 
ColumnsJJ %
.JJ% &
InsertJJ& ,
(JJ, -
countJJ- 2
,JJ2 3
btnEditJJ4 ;
)JJ; <
;JJ< =
countKK 
=KK 
dataGridView1KK %
.KK% &
ColumnsKK& -
.KK- .
CountKK. 3
;KK3 4
dataGridView1LL 
.LL 
ColumnsLL %
.LL% &
InsertLL& ,
(LL, -
countLL- 2
,LL2 3
	btnDeleteLL4 =
)LL= >
;LL> ?
}MM 
elseMM 
{NN 
btnAddOO 
.OO 
VisibleOO 
=OO  
falseOO! &
;OO& '
}PP $
DataGridViewButtonColumnRR $

btnBookingRR% /
=RR0 1
newRR2 5$
DataGridViewButtonColumnRR6 N
{SS 
NameTT 
=TT 
$strTT  
,TT  !
TextUU 
=UU 
$strUU  
,UU  !'
UseColumnTextForButtonValueVV +
=VV, -
trueVV. 2
}WW 
;WW 
dataGridView1YY 
.YY 
ColumnsYY !
.YY! "
InsertYY" (
(YY( )
dataGridView1YY) 6
.YY6 7
ColumnsYY7 >
.YY> ?
CountYY? D
,YYD E

btnBookingYYF P
)YYP Q
;YYQ R
dataGridView1[[ 
.[[ 
Columns[[ !
[[[! "
$str[[" *
][[* +
.[[+ ,
Visible[[, 3
=[[4 5
false[[6 ;
;[[; <
dataGridView1\\ 
.\\ 
Columns\\ !
[\\! "
$str\\" *
]\\* +
.\\+ ,
Visible\\, 3
=\\4 5
false\\6 ;
;\\; <
}]] 	
private__ 
void__ #
dataGridView1_CellClick__ ,
(__, -
object__- 3
sender__4 :
,__: ;%
DataGridViewCellEventArgs__< U
e__V W
)__W X
{`` 	
ifaa 
(aa 
dataGridView1aa 
.aa 
Columnsaa $
[aa$ %
$straa% +
]aa+ ,
!=aa- /
nullaa0 4
&&aa5 7
eaa8 9
.aa9 :
ColumnIndexaa: E
==aaF H
dataGridView1aaI V
.aaV W
ColumnsaaW ^
[aa^ _
$straa_ e
]aae f
.aaf g
Indexaag l
)aal m
{bb 
intcc 
showIdcc 
=cc 
(cc 
intcc !
)cc! "
dataGridView1cc# 0
.cc0 1
Rowscc1 5
[cc5 6
ecc6 7
.cc7 8
RowIndexcc8 @
]cc@ A
.ccA B
CellsccB G
[ccG H
$strccH P
]ccP Q
.ccQ R
ValueccR W
;ccW X
Showdd 
showdd 
=dd 
cinemaContextdd )
.dd) *
Showsdd* /
.dd/ 0
Finddd0 4
(dd4 5
showIddd5 ;
)dd; <
;dd< =
ShowAddEditGUIff 
fff  
=ff! "
newff# &
ShowAddEditGUIff' 5
(ff5 6
showff6 :
)ff: ;
;ff; <
DialogResultgg 
drgg 
=gg  !
fgg" #
.gg# $

ShowDialoggg$ .
(gg. /
)gg/ 0
;gg0 1
cinemaContextii 
=ii 
newii  #
CinemaContextii$ 1
(ii1 2
)ii2 3
;ii3 4
Listjj 
<jj 
Showjj 
>jj 
listShowjj #
=jj$ %
cinemaContextjj& 3
.jj3 4
Showsjj4 9
.jj9 :
ToListjj: @
(jj@ A
)jjA B
;jjB C
bindGridkk 
(kk 
listShowkk !
)kk! "
;kk" #
}ll 
ifnn 
(nn 
dataGridView1nn 
.nn 
Columnsnn %
[nn% &
$strnn& .
]nn. /
!=nn0 2
nullnn3 7
&&nn8 :
enn; <
.nn< =
ColumnIndexnn= H
==nnI K
dataGridView1nnL Y
.nnY Z
ColumnsnnZ a
[nna b
$strnnb j
]nnj k
.nnk l
Indexnnl q
)nnq r
{oo 
trypp 
{qq 
intrr 
showIdrr 
=rr  
(rr! "
intrr" %
)rr% &
dataGridView1rr& 3
.rr3 4
Rowsrr4 8
[rr8 9
err9 :
.rr: ;
RowIndexrr; C
]rrC D
.rrD E
CellsrrE J
[rrJ K
$strrrK S
]rrS T
.rrT U
ValuerrU Z
;rrZ [
DialogResulttt  
drtt! #
=tt$ %

MessageBoxtt& 0
.tt0 1
Showtt1 5
(tt5 6
$strtt6 O
,ttO P
$strttQ Z
,ttZ [
MessageBoxButtonstt\ m
.ttm n
YesNottn s
)tts t
;ttt u
ifuu 
(uu 
druu 
==uu 
DialogResultuu *
.uu* +
Yesuu+ .
)uu. /
{vv 
Showww 
showww !
=ww" #
cinemaContextww$ 1
.ww1 2
Showsww2 7
.ww7 8
Findww8 <
(ww< =
showIdww= C
)wwC D
;wwD E
cinemaContextxx %
.xx% &
Showsxx& +
.xx+ ,
Removexx, 2
(xx2 3
showxx3 7
)xx7 8
;xx8 9
cinemaContextyy %
.yy% &
SaveChangesyy& 1
(yy1 2
)yy2 3
;yy3 4
}zz 
cinemaContext{{ !
={{" #
new{{$ '
CinemaContext{{( 5
({{5 6
){{6 7
;{{7 8
List|| 
<|| 
Show|| 
>|| 
listShow|| '
=||( )
cinemaContext||* 7
.||7 8
Shows||8 =
.||= >
ToList||> D
(||D E
)||E F
;||F G
bindGrid}} 
(}} 
listShow}} %
)}}% &
;}}& '
}~~ 
catch 
( 
	Exception 
ex  "
)" #
{
ÄÄ 
Console
ÅÅ 
.
ÅÅ 
	WriteLine
ÅÅ #
(
ÅÅ# $
ex
ÅÅ$ &
.
ÅÅ& '
Message
ÅÅ' .
)
ÅÅ. /
;
ÅÅ/ 0
}
ÇÇ 
}
ÉÉ 
if
ÖÖ 
(
ÖÖ 
dataGridView1
ÖÖ 
.
ÖÖ 
Columns
ÖÖ %
[
ÖÖ% &
$str
ÖÖ& /
]
ÖÖ/ 0
!=
ÖÖ1 3
null
ÖÖ4 8
&&
ÖÖ9 ;
e
ÖÖ< =
.
ÖÖ= >
ColumnIndex
ÖÖ> I
==
ÖÖJ L
dataGridView1
ÖÖM Z
.
ÖÖZ [
Columns
ÖÖ[ b
[
ÖÖb c
$str
ÖÖc l
]
ÖÖl m
.
ÖÖm n
Index
ÖÖn s
&&
ÖÖt v
e
ÖÖw x
.
ÖÖx y
RowIndexÖÖy Å
>=ÖÖÇ Ñ
$numÖÖÖ Ü
)ÖÖÜ á
{
ÜÜ 
int
áá 
roomID
áá 
=
áá 
(
áá 
int
áá !
)
áá! "
dataGridView1
áá" /
.
áá/ 0
Rows
áá0 4
[
áá4 5
e
áá5 6
.
áá6 7
RowIndex
áá7 ?
]
áá? @
.
áá@ A
Cells
ááA F
[
ááF G
$str
ááG O
]
ááO P
.
ááP Q
Value
ááQ V
;
ááV W
int
àà 
showID
àà 
=
àà 
(
àà 
int
àà !
)
àà! "
dataGridView1
àà" /
.
àà/ 0
Rows
àà0 4
[
àà4 5
e
àà5 6
.
àà6 7
RowIndex
àà7 ?
]
àà? @
.
àà@ A
Cells
ààA F
[
ààF G
$str
ààG O
]
ààO P
.
ààP Q
Value
ààQ V
;
ààV W

BookingGUI
ää 
f
ää 
=
ää 
new
ää "

BookingGUI
ää# -
(
ää- .
roomID
ää. 4
,
ää4 5
showID
ää6 <
)
ää< =
;
ää= >
DialogResult
ãã 
dr
ãã 
=
ãã  !
f
ãã" #
.
ãã# $

ShowDialog
ãã$ .
(
ãã. /
)
ãã/ 0
;
ãã0 1
}
åå 
}
çç 	
private
èè 
void
èè 
btnAdd_Click
èè !
(
èè! "
object
èè" (
sender
èè) /
,
èè/ 0
	EventArgs
èè1 :
e
èè; <
)
èè< =
{
êê 	
ShowAddEditGUI
ëë 
showAddEditGUI
ëë )
=
ëë* +
new
ëë, /
ShowAddEditGUI
ëë0 >
(
ëë> ?
new
ëë? B
Show
ëëC G
(
ëëG H
)
ëëH I
{
íí 
ShowId
ìì 
=
ìì 
$num
ìì 
,
ìì 
FilmId
îî 
=
îî 
(
îî 
int
îî 
)
îî 
cboFilm
îî %
.
îî% &
SelectedValue
îî& 3
,
îî3 4
RoomId
ïï 
=
ïï 
(
ïï 
int
ïï 
)
ïï 
cboRoom
ïï %
.
ïï% &
SelectedValue
ïï& 3
,
ïï3 4
ShowDate
ññ 
=
ññ 
dtpShowDate
ññ &
.
ññ& '
Value
ññ' ,
}
óó 
)
óó 
;
óó 
DialogResult
òò 
dr
òò 
=
òò 
showAddEditGUI
òò ,
.
òò, -

ShowDialog
òò- 7
(
òò7 8
)
òò8 9
;
òò9 :
if
ôô 
(
ôô 
dr
ôô 
==
ôô 
DialogResult
ôô "
.
ôô" #
OK
ôô# %
)
ôô% &
{
öö 
cinemaContext
õõ 
=
õõ 
new
õõ  #
CinemaContext
õõ$ 1
(
õõ1 2
)
õõ2 3
;
õõ3 4
List
úú 
<
úú 
Show
úú 
>
úú 
listShow
úú #
=
úú$ %
cinemaContext
úú& 3
.
úú3 4
Shows
úú4 9
.
úú9 :
ToList
úú: @
(
úú@ A
)
úúA B
;
úúB C
bindGrid
ùù 
(
ùù 
listShow
ùù !
)
ùù! "
;
ùù" #
}
ûû 
}
üü 	
private
°° 
void
°° 
btnSearch_Click
°° $
(
°°$ %
object
°°% +
sender
°°, 2
,
°°2 3
	EventArgs
°°4 =
e
°°> ?
)
°°? @
{
¢¢ 	
cinemaContext
££ 
=
££ 
new
££ 
CinemaContext
££  -
(
££- .
)
££. /
;
££/ 0
List
§§ 
<
§§ 
Show
§§ 
>
§§ 
listShow
§§ 
=
§§  !
cinemaContext
§§" /
.
§§/ 0
Shows
§§0 5
.
§§5 6
ToList
§§6 <
(
§§< =
)
§§= >
;
§§> ?
if
•• 
(
•• 
(
•• 
int
•• 
)
•• 
cboFilm
•• 
.
•• 
SelectedValue
•• *
!=
••+ -
$num
••. /
)
••/ 0
{
¶¶ 
var
ßß *
listShowByDateAndRoomAndFilm
ßß 0
=
ßß1 2
listShow
ßß3 ;
.
ßß; <
Where
ßß< A
(
ßßA B
s
ßßB C
=>
ßßD F
s
ßßG H
.
ßßH I
ShowDate
ßßI Q
==
ßßR T
dtpShowDate
ßßU `
.
ßß` a
Value
ßßa f
.
ßßf g
Date
ßßg k
&&
ßßl n
s
ßßo p
.
ßßp q
RoomId
ßßq w
==
ßßx z
(
ßß{ |
int
ßß| 
)ßß Ä
cboRoomßßÄ á
.ßßá à
SelectedValueßßà ï
&&ßßñ ò
sßßô ö
.ßßö õ
FilmIdßßõ °
==ßß¢ §
(ßß• ¶
intßß¶ ©
)ßß© ™
cboFilmßß™ ±
.ßß± ≤
SelectedValueßß≤ ø
)ßßø ¿
;ßß¿ ¡
bindGrid
®® 
(
®® *
listShowByDateAndRoomAndFilm
®® 5
.
®®5 6
ToList
®®6 <
(
®®< =
)
®®= >
)
®®> ?
;
®®? @
}
©© 
else
©© 
{
™™ 
var
´´ *
listShowByDateAndRoomAndFilm
´´ 0
=
´´1 2
listShow
´´3 ;
.
´´; <
Where
´´< A
(
´´A B
s
´´B C
=>
´´D F
s
´´G H
.
´´H I
ShowDate
´´I Q
==
´´R T
dtpShowDate
´´U `
.
´´` a
Value
´´a f
.
´´f g
Date
´´g k
&&
´´l n
s
´´o p
.
´´p q
RoomId
´´q w
==
´´x z
(
´´{ |
int
´´| 
)´´ Ä
cboRoom´´Ä á
.´´á à
SelectedValue´´à ï
)´´ï ñ
;´´ñ ó
bindGrid
¨¨ 
(
¨¨ *
listShowByDateAndRoomAndFilm
¨¨ 5
.
¨¨5 6
ToList
¨¨6 <
(
¨¨< =
)
¨¨= >
)
¨¨> ?
;
¨¨? @
}
≠≠ 
}
ØØ 	
}
∞∞ 
}±± Ê
rC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\Models\Booking.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
Models #
{ 
public 

partial 
class 
Booking  
{		 
public

 
int

 
	BookingId

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
public 
int 
ShowId 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 

SeatStatus  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
decimal 
? 
Amount 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ‚Y
xC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\Models\CinemaContext.cs
	namespace		 	
Ass2_SE1616_Group5		
 
.		 
Models		 #
{

 
public 

partial 
class 
CinemaContext &
:' (
	DbContext) 2
{ 
public 
CinemaContext 
( 
) 
{ 	
} 	
public 
CinemaContext 
( 
DbContextOptions -
<- .
CinemaContext. ;
>; <
options= D
)D E
: 
base 
( 
options 
) 
{ 	
} 	
public 
virtual 
DbSet 
< 
Booking $
>$ %
Bookings& .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
virtual 
DbSet 
< 
Country $
>$ %
	Countries& /
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
public 
virtual 
DbSet 
< 
Film !
>! "
Films# (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
virtual 
DbSet 
< 
Genre "
>" #
Genres$ *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
virtual 
DbSet 
< 
Room !
>! "
Rooms# (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
virtual 
DbSet 
< 
Show !
>! "
Shows# (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
	protected 
override 
void 
OnConfiguring  -
(- .#
DbContextOptionsBuilder. E
optionsBuilderF T
)T U
{ 	
if 
( 
! 
optionsBuilder 
.  
IsConfigured  ,
), -
{   
var!! 
conf!! 
=!! 
new!!  
ConfigurationBuilder!! 3
(!!3 4
)!!4 5
."" 
SetBasePath"" 
("" 
	Directory"" &
.""& '
GetCurrentDirectory""' :
("": ;
)""; <
)""< =
.## 
AddJsonFile## 
(## 
$str## /
,##/ 0
true##1 5
,##5 6
true##7 ;
)##; <
.$$ 
Build$$ 
($$ 
)$$ 
;$$ 
String&& 
strConn&& 
=&&  
conf&&! %
.&&% &
GetConnectionString&&& 9
(&&9 :
$str&&: H
)&&H I
;&&I J
optionsBuilder'' 
.'' 
UseSqlServer'' +
(''+ ,
strConn'', 3
)''3 4
;''4 5
}(( 
})) 	
	protected++ 
override++ 
void++ 
OnModelCreating++  /
(++/ 0
ModelBuilder++0 <
modelBuilder++= I
)++I J
{,, 	
modelBuilder-- 
.-- 
HasAnnotation-- &
(--& '
$str--' =
,--= >
$str--? ]
)--] ^
;--^ _
modelBuilder// 
.// 
Entity// 
<//  
Booking//  '
>//' (
(//( )
entity//) /
=>//0 2
{00 
entity11 
.11 
Property11 
(11  
e11  !
=>11" $
e11% &
.11& '
	BookingId11' 0
)110 1
.111 2
HasColumnName112 ?
(11? @
$str11@ K
)11K L
;11L M
entity33 
.33 
Property33 
(33  
e33  !
=>33" $
e33% &
.33& '
Amount33' -
)33- .
.33. /
HasColumnType33/ <
(33< =
$str33= D
)33D E
;33E F
entity55 
.55 
Property55 
(55  
e55  !
=>55" $
e55% &
.55& '
Name55' +
)55+ ,
.55, -
HasMaxLength55- 9
(559 :
$num55: =
)55= >
;55> ?
entity77 
.77 
Property77 
(77  
e77  !
=>77" $
e77% &
.77& '

SeatStatus77' 1
)771 2
.88 
HasMaxLength88 !
(88! "
$num88" &
)88& '
.99 
IsFixedLength99 "
(99" #
true99# '
)99' (
;99( )
entity;; 
.;; 
Property;; 
(;;  
e;;  !
=>;;" $
e;;% &
.;;& '
ShowId;;' -
);;- .
.;;. /
HasColumnName;;/ <
(;;< =
$str;;= E
);;E F
;;;F G
}<< 
)<< 
;<< 
modelBuilder>> 
.>> 
Entity>> 
<>>  
Country>>  '
>>>' (
(>>( )
entity>>) /
=>>>0 2
{?? 
entity@@ 
.@@ 
HasKey@@ 
(@@ 
e@@ 
=>@@  "
e@@# $
.@@$ %
CountryCode@@% 0
)@@0 1
.AA 
HasNameAA 
(AA 
$strAA )
)AA) *
;AA* +
entityCC 
.CC 
PropertyCC 
(CC  
eCC  !
=>CC" $
eCC% &
.CC& '
CountryCodeCC' 2
)CC2 3
.DD 
HasMaxLengthDD !
(DD! "
$numDD" #
)DD# $
.EE 
IsFixedLengthEE "
(EE" #
trueEE# '
)EE' (
;EE( )
entityGG 
.GG 
PropertyGG 
(GG  
eGG  !
=>GG" $
eGG% &
.GG& '
CountryNameGG' 2
)GG2 3
.GG3 4
HasMaxLengthGG4 @
(GG@ A
$numGGA C
)GGC D
;GGD E
}HH 
)HH 
;HH 
modelBuilderJJ 
.JJ 
EntityJJ 
<JJ  
FilmJJ  $
>JJ$ %
(JJ% &
entityJJ& ,
=>JJ- /
{KK 
entityLL 
.LL 
PropertyLL 
(LL  
eLL  !
=>LL" $
eLL% &
.LL& '
FilmIdLL' -
)LL- .
.LL. /
HasColumnNameLL/ <
(LL< =
$strLL= E
)LLE F
;LLF G
entityNN 
.NN 
PropertyNN 
(NN  
eNN  !
=>NN" $
eNN% &
.NN& '
CountryCodeNN' 2
)NN2 3
.OO 

IsRequiredOO 
(OO  
)OO  !
.PP 
HasMaxLengthPP !
(PP! "
$numPP" #
)PP# $
.QQ 
IsFixedLengthQQ "
(QQ" #
trueQQ# '
)QQ' (
;QQ( )
entitySS 
.SS 
PropertySS 
(SS  
eSS  !
=>SS" $
eSS% &
.SS& '
GenreIdSS' .
)SS. /
.SS/ 0
HasColumnNameSS0 =
(SS= >
$strSS> G
)SSG H
;SSH I
entityUU 
.UU 
PropertyUU 
(UU  
eUU  !
=>UU" $
eUU% &
.UU& '
TitleUU' ,
)UU, -
.VV 

IsRequiredVV 
(VV  
)VV  !
.WW 
HasMaxLengthWW !
(WW! "
$numWW" %
)WW% &
;WW& '
}XX 
)XX 
;XX 
modelBuilderZZ 
.ZZ 
EntityZZ 
<ZZ  
GenreZZ  %
>ZZ% &
(ZZ& '
entityZZ' -
=>ZZ. 0
{[[ 
entity\\ 
.\\ 
Property\\ 
(\\  
e\\  !
=>\\" $
e\\% &
.\\& '
GenreId\\' .
)\\. /
.\\/ 0
HasColumnName\\0 =
(\\= >
$str\\> G
)\\G H
;\\H I
entity^^ 
.^^ 
Property^^ 
(^^  
e^^  !
=>^^" $
e^^% &
.^^& '
Name^^' +
)^^+ ,
.^^, -
HasMaxLength^^- 9
(^^9 :
$num^^: <
)^^< =
;^^= >
}__ 
)__ 
;__ 
modelBuilderaa 
.aa 
Entityaa 
<aa  
Roomaa  $
>aa$ %
(aa% &
entityaa& ,
=>aa- /
{bb 
entitycc 
.cc 
Propertycc 
(cc  
ecc  !
=>cc" $
ecc% &
.cc& '
RoomIdcc' -
)cc- .
.cc. /
HasColumnNamecc/ <
(cc< =
$strcc= E
)ccE F
;ccF G
entityee 
.ee 
Propertyee 
(ee  
eee  !
=>ee" $
eee% &
.ee& '
Nameee' +
)ee+ ,
.ee, -
HasMaxLengthee- 9
(ee9 :
$numee: =
)ee= >
;ee> ?
}ff 
)ff 
;ff 
modelBuilderhh 
.hh 
Entityhh 
<hh  
Showhh  $
>hh$ %
(hh% &
entityhh& ,
=>hh- /
{ii 
entityjj 
.jj 
Propertyjj 
(jj  
ejj  !
=>jj" $
ejj% &
.jj& '
ShowIdjj' -
)jj- .
.jj. /
HasColumnNamejj/ <
(jj< =
$strjj= E
)jjE F
;jjF G
entityll 
.ll 
Propertyll 
(ll  
ell  !
=>ll" $
ell% &
.ll& '
FilmIdll' -
)ll- .
.ll. /
HasColumnNamell/ <
(ll< =
$strll= E
)llE F
;llF G
entitynn 
.nn 
Propertynn 
(nn  
enn  !
=>nn" $
enn% &
.nn& '
Pricenn' ,
)nn, -
.nn- .
HasColumnTypenn. ;
(nn; <
$strnn< C
)nnC D
;nnD E
entitypp 
.pp 
Propertypp 
(pp  
epp  !
=>pp" $
epp% &
.pp& '
RoomIdpp' -
)pp- .
.pp. /
HasColumnNamepp/ <
(pp< =
$strpp= E
)ppE F
;ppF G
entityrr 
.rr 
Propertyrr 
(rr  
err  !
=>rr" $
err% &
.rr& '
ShowDaterr' /
)rr/ 0
.rr0 1
HasColumnTyperr1 >
(rr> ?
$strrr? E
)rrE F
;rrF G
}ss 
)ss 
;ss "
OnModelCreatingPartialuu "
(uu" #
modelBuilderuu# /
)uu/ 0
;uu0 1
}vv 	
partialxx 
voidxx "
OnModelCreatingPartialxx +
(xx+ ,
ModelBuilderxx, 8
modelBuilderxx9 E
)xxE F
;xxF G
}yy 
}zz ì
rC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\Models\Country.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
Models #
{ 
public 

partial 
class 
Country  
{		 
public

 
string

 
CountryCode

 !
{

" #
get

$ '
;

' (
set

) ,
;

, -
}

. /
public 
string 
CountryName !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} À
oC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\Models\Film.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
Models #
{ 
public 

partial 
class 
Film 
{		 
public

 
int

 
FilmId

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
int 
GenreId 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
Year 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
CountryCode !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} Å
pC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\Models\Genre.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
Models #
{ 
public 

partial 
class 
Genre 
{		 
public

 
int

 
GenreId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
} 
} “
oC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\Models\Room.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
Models #
{ 
public 

partial 
class 
Room 
{		 
public

 
int

 
RoomId

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
? 

NumberRows 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
? 

NumberCols 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} µ
oC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\Models\Show.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
Models #
{ 
public 

partial 
class 
Show 
{		 
public

 
int

 
ShowId

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
int 
RoomId 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
FilmId 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
? 
ShowDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
decimal 
? 
Price 
{ 
get  #
;# $
set% (
;( )
}* +
public 
bool 
? 
Status 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
? 
Slot 
{ 
get 
; 
set  #
;# $
}% &
} 
} ›
kC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\After_FixBug\SE1616_Group5_Ass2\Program.cs
	namespace 	
Ass2_SE1616_Group5
 
{ 
internal		 
static		 
class		 
Program		 !
{

 
[ 	
	STAThread	 
] 
static 
void 
Main 
( 
) 
{ 	
Application 
. 
SetHighDpiMode &
(& '
HighDpiMode' 2
.2 3
SystemAware3 >
)> ?
;? @
Application 
. 
EnableVisualStyles *
(* +
)+ ,
;, -
Application 
. -
!SetCompatibleTextRenderingDefault 9
(9 :
false: ?
)? @
;@ A
Application 
. 
Run 
( 
new 
GUI  #
.# $
MainGUI$ +
(+ ,
), -
)- .
;. /
} 	
} 
} 