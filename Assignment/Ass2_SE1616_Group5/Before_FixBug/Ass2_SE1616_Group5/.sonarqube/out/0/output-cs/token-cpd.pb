ˇ(
zC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\GUI\BookingDetailsGUI.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public 

partial 
class 
BookingDetailsGUI *
:+ ,
Form- 1
{ 
public 
int 
RoomID 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
ShowID 
{ 
get 
;  
set! $
;$ %
}& '
public 
Booking 
Booking 
{  
get! $
;$ %
set& )
;) *
}+ ,
private 
CinemaContext 
cinemaContext +
;+ ,
public 
BookingDetailsGUI  
(  !
int! $
roomID% +
,+ ,
int- 0
showID1 7
,7 8
Booking9 @
bookingA H
)H I
{ 	
RoomID 
= 
roomID 
; 
ShowID 
= 
showID 
; 
Booking 
= 
booking 
; 
cinemaContext 
= 
new 
CinemaContext  -
(- .
). /
;/ 0
InitializeComponent 
(  
)  !
;! "
initBokkingPanel 
( 
) 
; 
txtName 
. 
Text 
= 
Booking "
." #
Name# '
;' (
	txtAmount   
.   
Text   
=   
Booking   $
.  $ %
Amount  % +
.  + ,
ToString  , 4
(  4 5
)  5 6
;  6 7
}!! 	
private## 
void## 
initBokkingPanel## %
(##% &
)##& '
{$$ 	
panel1%% 
.%% 
Enabled%% 
=%% 
false%% "
;%%" #
panel1&& 
.&& 
Controls&& 
.&& 
Clear&& !
(&&! "
)&&" #
;&&# $
cinemaContext(( 
=(( 
new(( 
CinemaContext((  -
(((- .
)((. /
;((/ 0
Room)) 
room)) 
=)) 
cinemaContext)) %
.))% &
Rooms))& +
.))+ ,
Find)), 0
())0 1
RoomID))1 7
)))7 8
;))8 9
int++ 
height++ 
=++ 
room++ 
.++ 

NumberRows++ (
.++( )
Value++) .
;++. /
int,, 
width,, 
=,, 
room,, 
.,, 

NumberCols,, '
.,,' (
Value,,( -
;,,- .
int.. 
startButtonPoint..  
=..! "
(..# $
panel1..$ *
...* +
Width..+ 0
-..1 2
width..3 8
*..9 :
$num..; =
)..= >
/..? @
$num..A B
;..B C
string00 

seatStatus00 
=00 
Booking00  '
.00' (

SeatStatus00( 2
;002 3
int11 
indexSeatStatus11 
=11  !
$num11" #
;11# $
for22 
(22 
int22 
i22 
=22 
$num22 
;22 
i22 
<22 
width22  %
;22% &
i22' (
++22( *
)22* +
{33 
for44 
(44 
int44 
j44 
=44 
$num44 
;44 
j44  !
<44" #
height44$ *
;44* +
j44, -
++44- /
)44/ 0
{55 
CheckBox66 
checkbox66 %
=66& '
new66( +
CheckBox66, 4
(664 5
)665 6
{77 
Width88 
=88 
$num88  "
,88" #
Height99 
=99  
$num99! #
,99# $
Location::  
=::! "
new::# &
Point::' ,
(::, -
i::- .
*::/ 0
$num::1 3
+::4 5
startButtonPoint::6 F
,::F G
j::H I
*::J K
$num::L N
)::N O
};; 
;;; 
if== 
(== 

seatStatus== "
.==" #
Length==# )
>==* +
$num==, -
&&==. 0

seatStatus==1 ;
[==; <
indexSeatStatus==< K
]==K L
====M O
$num==P R
)==R S
{>> 
checkbox??  
.??  !
Checked??! (
=??) *
true??+ /
;??/ 0
}@@ 
indexSeatStatusBB #
++BB# %
;BB% &
panel1DD 
.DD 
ControlsDD #
.DD# $
AddDD$ '
(DD' (
checkboxDD( 0
)DD0 1
;DD1 2
}EE 
}FF 
}GG 	
}HH 
}II …}
sC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\GUI\BookingGUI.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public 

partial 
class 

BookingGUI #
:$ %
Form& *
{ 
public 
int 
RoomID 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
ShowID 
{ 
get 
;  
set! $
;$ %
}& '
private 
CinemaContext 
cinemaContext +
;+ ,
public 

BookingGUI 
( 
int 
roomID $
,$ %
int& )
showID* 0
)0 1
{ 	
RoomID 
= 
roomID 
; 
ShowID 
= 
showID 
; 
cinemaContext 
= 
new 
CinemaContext  -
(- .
). /
;/ 0
InitializeComponent 
(  
)  !
;! "
initBokkingPanel 
( 
) 
; 
bindGrid 
( 
) 
; 
} 	
private   
void   
initBokkingPanel   %
(  % &
)  & '
{!! 	
panel1"" 
."" 
Enabled"" 
="" 
false"" "
;""" #
panel1## 
.## 
Controls## 
.## 
Clear## !
(##! "
)##" #
;### $
cinemaContext%% 
=%% 
new%% 
CinemaContext%%  -
(%%- .
)%%. /
;%%/ 0
Room&& 
room&& 
=&& 
cinemaContext&& %
.&&% &
Rooms&&& +
.&&+ ,
Find&&, 0
(&&0 1
RoomID&&1 7
)&&7 8
;&&8 9
int(( 
height(( 
=(( 
room(( 
.(( 

NumberRows(( (
.((( )
Value(() .
;((. /
int)) 
width)) 
=)) 
room)) 
.)) 

NumberCols)) '
.))' (
Value))( -
;))- .
int++ 
startButtonPoint++  
=++! "
(++# $
panel1++$ *
.++* +
Width+++ 0
-++1 2
width++3 8
*++9 :
$num++; =
)++= >
/++? @
$num++A B
;++B C
string-- 

seatStatus-- 
=-- 
getSeatStatus--  -
(--- .
ShowID--. 4
)--4 5
;--5 6
int.. 
indexSeatStatus.. 
=..  !
$num.." #
;..# $
for// 
(// 
int// 
i// 
=// 
$num// 
;// 
i// 
<// 
width//  %
;//% &
i//' (
++//( *
)//* +
{00 
for11 
(11 
int11 
j11 
=11 
$num11 
;11 
j11  !
<11" #
height11$ *
;11* +
j11, -
++11- /
)11/ 0
{22 
CheckBox33 
checkbox33 %
=33& '
new33( +
CheckBox33, 4
(334 5
)335 6
{44 
Width55 
=55 
$num55  "
,55" #
Height66 
=66  
$num66! #
,66# $
Location77  
=77! "
new77# &
Point77' ,
(77, -
i77- .
*77/ 0
$num771 3
+774 5
startButtonPoint776 F
,77F G
j77H I
*77J K
$num77L N
)77N O
}88 
;88 
if:: 
(:: 

seatStatus:: "
.::" #
Length::# )
>::* +
$num::, -
&&::. 0

seatStatus::1 ;
[::; <
indexSeatStatus::< K
]::K L
==::M O
$num::P R
)::R S
{;; 
checkbox<<  
.<<  !
Checked<<! (
=<<) *
true<<+ /
;<</ 0
}== 
indexSeatStatus?? #
++??# %
;??% &
panel1AA 
.AA 
ControlsAA #
.AA# $
AddAA$ '
(AA' (
checkboxAA( 0
)AA0 1
;AA1 2
}BB 
}CC 
}DD 	
privateFF 
stringFF 
getSeatStatusFF $
(FF$ %
intFF% (
showIDFF) /
)FF/ 0
{GG 	
ListHH 
<HH 
BookingHH 
>HH 
listBookingHH %
=HH& '
cinemaContextHH( 5
.HH5 6
BookingsHH6 >
.HH> ?
ToListHH? E
(HHE F
)HHF G
.HHG H
WhereHHH M
(HHM N
bHHN O
=>HHP R
bHHS T
.HHT U
ShowIdHHU [
==HH\ ^
showIDHH_ e
)HHe f
.HHf g
ToListHHg m
(HHm n
)HHn o
;HHo p
stringII 
resultII 
=II 
$strII 
;II 
ifKK 
(KK 
listBookingKK 
.KK 
CountKK !
<=KK" $
$numKK% &
)KK& '
returnKK( .
resultKK/ 5
;KK5 6
forMM 
(MM 
intMM 
iMM 
=MM 
$numMM 
;MM 
iMM 
<MM 
listBookingMM  +
[MM+ ,
$numMM, -
]MM- .
.MM. /

SeatStatusMM/ 9
.MM9 :
LengthMM: @
;MM@ A
iMMB C
++MMC E
)MME F
{NN 
boolOO 
checkOO 
=OO 
falseOO "
;OO" #
foreachPP 
(PP 
BookingPP  
bookPP! %
inPP& (
listBookingPP) 4
)PP4 5
{QQ 
charRR 
cRR 
=RR 
bookRR !
.RR! "

SeatStatusRR" ,
[RR, -
iRR- .
]RR. /
;RR/ 0
ifSS 
(SS 
cSS 
==SS 
$numSS 
)SS  
{TT 
checkUU 
=UU 
trueUU  $
;UU$ %
}VV 
}WW 
ifYY 
(YY 
checkYY 
)YY 
resultYY !
+=YY" $
$strYY% (
;YY( )
elseYY* .
resultYY/ 5
+=YY6 8
$strYY9 <
;YY< =
}ZZ 
return[[ 
result[[ 
;[[ 
}\\ 	
private^^ 
void^^ 
bindGrid^^ 
(^^ 
)^^ 
{__ 	
dataGridView1`` 
.`` 
Columns`` !
.``! "
Clear``" '
(``' (
)``( )
;``) *
cinemaContextbb 
=bb 
newbb 
CinemaContextbb  -
(bb- .
)bb. /
;bb/ 0
Listcc 
<cc 
Bookingcc 
>cc 
listBookingcc %
=cc& '
cinemaContextcc( 5
.cc5 6
Bookingscc6 >
.cc> ?
ToListcc? E
(ccE F
)ccF G
.ccG H
WhereccH M
(ccM N
bccN O
=>ccP R
bccS T
.ccT U
ShowIdccU [
==cc\ ^
ShowIDcc_ e
)cce f
.ccf g
ToListccg m
(ccm n
)ccn o
;cco p
dataGridView1dd 
.dd 

DataSourcedd $
=dd% &
listBookingdd' 2
;dd2 3
labCountff 
.ff 
Textff 
=ff 
$strff 2
+ff3 4
listBookingff5 @
.ff@ A
CountffA F
;ffF G
inthh 
counthh 
=hh 
dataGridView1hh %
.hh% &
Columnshh& -
.hh- .
Counthh. 3
;hh3 4$
DataGridViewButtonColumnjj $
btnEditjj% ,
=jj- .
newjj/ 2$
DataGridViewButtonColumnjj3 K
{kk 
Namell 
=ll 
$strll 
,ll  
Textmm 
=mm 
$strmm 
,mm  '
UseColumnTextForButtonValuenn +
=nn, -
truenn. 2
}oo 
;oo $
DataGridViewButtonColumnqq $
	btnDeleteqq% .
=qq/ 0
newqq1 4$
DataGridViewButtonColumnqq5 M
{rr 
Namess 
=ss 
$strss  
,ss  !
Texttt 
=tt 
$strtt  
,tt  !'
UseColumnTextForButtonValueuu +
=uu, -
trueuu. 2
}vv 
;vv 
dataGridView1xx 
.xx 
Columnsxx !
.xx! "
Insertxx" (
(xx( )
countxx) .
,xx. /
btnEditxx0 7
)xx7 8
;xx8 9
countyy 
=yy 
dataGridView1yy !
.yy! "
Columnsyy" )
.yy) *
Countyy* /
;yy/ 0
dataGridView1zz 
.zz 
Columnszz !
.zz! "
Insertzz" (
(zz( )
countzz) .
,zz. /
	btnDeletezz0 9
)zz9 :
;zz: ;
dataGridView1|| 
.|| 
Columns|| !
[||! "
$str||" -
]||- .
.||. /
Visible||/ 6
=||7 8
false||9 >
;||> ?
dataGridView1}} 
.}} 
Columns}} !
[}}! "
$str}}" *
]}}* +
.}}+ ,
Visible}}, 3
=}}4 5
false}}6 ;
;}}; <
}~~ 	
private
ÅÅ 
void
ÅÅ 
btnCreate_Click
ÅÅ $
(
ÅÅ$ %
object
ÅÅ% +
sender
ÅÅ, 2
,
ÅÅ2 3
	EventArgs
ÅÅ4 =
e
ÅÅ> ?
)
ÅÅ? @
{
ÇÇ 	
CreateBookingGUI
ÉÉ 
f
ÉÉ 
=
ÉÉ  
new
ÉÉ! $
CreateBookingGUI
ÉÉ% 5
(
ÉÉ5 6
RoomID
ÉÉ6 <
,
ÉÉ< =
ShowID
ÉÉ> D
)
ÉÉD E
;
ÉÉE F
DialogResult
ÑÑ 
dr
ÑÑ 
=
ÑÑ 
f
ÑÑ 
.
ÑÑ  

ShowDialog
ÑÑ  *
(
ÑÑ* +
)
ÑÑ+ ,
;
ÑÑ, -
if
ÜÜ 
(
ÜÜ 
dr
ÜÜ 
==
ÜÜ 
DialogResult
ÜÜ "
.
ÜÜ" #
OK
ÜÜ# %
)
ÜÜ% &
{
áá 
bindGrid
àà 
(
àà 
)
àà 
;
àà 
initBokkingPanel
ââ  
(
ââ  !
)
ââ! "
;
ââ" #
}
ää 
}
ãã 	
private
çç 
void
çç %
dataGridView1_CellClick
çç ,
(
çç, -
object
çç- 3
sender
çç4 :
,
çç: ;'
DataGridViewCellEventArgs
çç< U
e
ççV W
)
ççW X
{
éé 	
if
èè 
(
èè 
dataGridView1
èè 
.
èè 
Columns
èè %
[
èè% &
$str
èè& /
]
èè/ 0
!=
èè1 3
null
èè4 8
&&
èè9 ;
e
èè< =
.
èè= >
ColumnIndex
èè> I
==
èèJ L
dataGridView1
èèM Z
.
èèZ [
Columns
èè[ b
[
èèb c
$str
èèc l
]
èèl m
.
èèm n
Index
èèn s
&&
èèt v
e
èèw x
.
èèx y
RowIndexèèy Å
>=èèÇ Ñ
$numèèÖ Ü
)èèÜ á
{
êê 
BookingDetailsGUI
ëë !
f
ëë" #
=
ëë$ %
new
ëë& )
BookingDetailsGUI
ëë* ;
(
ëë; <
RoomID
ëë< B
,
ëëB C
ShowID
ëëD J
,
ëëJ K
new
ëëL O
Booking
ëëP W
(
ëëW X
)
ëëX Y
{
íí 
Name
ìì 
=
ìì 
dataGridView1
ìì (
[
ìì( )
dataGridView1
ìì) 6
.
ìì6 7
Columns
ìì7 >
[
ìì> ?
$str
ìì? E
]
ììE F
.
ììF G
Index
ììG L
,
ììL M
e
ììN O
.
ììO P
RowIndex
ììP X
]
ììX Y
.
ììY Z
Value
ììZ _
.
ìì_ `
ToString
ìì` h
(
ììh i
)
ììi j
,
ììj k

SeatStatus
îî 
=
îî  
dataGridView1
îî! .
[
îî. /
dataGridView1
îî/ <
.
îî< =
Columns
îî= D
[
îîD E
$str
îîE Q
]
îîQ R
.
îîR S
Index
îîS X
,
îîX Y
e
îîZ [
.
îî[ \
RowIndex
îî\ d
]
îîd e
.
îîe f
Value
îîf k
.
îîk l
ToString
îîl t
(
îît u
)
îîu v
.
îîv w
Trim
îîw {
(
îî{ |
)
îî| }
,
îî} ~
Amount
ïï 
=
ïï 
decimal
ïï $
.
ïï$ %
Parse
ïï% *
(
ïï* +
dataGridView1
ïï+ 8
[
ïï8 9
dataGridView1
ïï9 F
.
ïïF G
Columns
ïïG N
[
ïïN O
$str
ïïO W
]
ïïW X
.
ïïX Y
Index
ïïY ^
,
ïï^ _
e
ïï` a
.
ïïa b
RowIndex
ïïb j
]
ïïj k
.
ïïk l
Value
ïïl q
.
ïïq r
ToString
ïïr z
(
ïïz {
)
ïï{ |
)
ïï| }
}
ññ 
)
ññ 
;
ññ 
DialogResult
óó 
dr
óó 
=
óó  !
f
óó" #
.
óó# $

ShowDialog
óó$ .
(
óó. /
)
óó/ 0
;
óó0 1
}
òò 
if
öö 
(
öö 
dataGridView1
öö 
.
öö 
Columns
öö %
[
öö% &
$str
öö& .
]
öö. /
!=
öö0 2
null
öö3 7
&&
öö8 :
e
öö; <
.
öö< =
ColumnIndex
öö= H
==
ööI K
dataGridView1
ööL Y
.
ööY Z
Columns
ööZ a
[
ööa b
$str
ööb j
]
ööj k
.
öök l
Index
ööl q
&&
öör t
e
ööu v
.
ööv w
RowIndex
ööw 
>=ööÄ Ç
$numööÉ Ñ
)ööÑ Ö
{
õõ 
int
úú 
	bookingID
úú 
=
úú 
(
úú  !
int
úú! $
)
úú$ %
dataGridView1
úú% 2
.
úú2 3
Rows
úú3 7
[
úú7 8
e
úú8 9
.
úú9 :
RowIndex
úú: B
]
úúB C
.
úúC D
Cells
úúD I
[
úúI J
$str
úúJ U
]
úúU V
.
úúV W
Value
úúW \
;
úú\ ]
DialogResult
ûû 
dr
ûû 
=
ûû  !

MessageBox
ûû" ,
.
ûû, -
Show
ûû- 1
(
ûû1 2
$str
ûû2 K
,
ûûK L
$str
ûûM V
,
ûûV W
MessageBoxButtons
ûûX i
.
ûûi j
YesNo
ûûj o
)
ûûo p
;
ûûp q
if
üü 
(
üü 
dr
üü 
==
üü 
DialogResult
üü &
.
üü& '
Yes
üü' *
)
üü* +
{
†† 
cinemaContext
°° !
.
°°! "
Bookings
°°" *
.
°°* +
Remove
°°+ 1
(
°°1 2
cinemaContext
°°2 ?
.
°°? @
Bookings
°°@ H
.
°°H I
Find
°°I M
(
°°M N
	bookingID
°°N W
)
°°W X
)
°°X Y
;
°°Y Z
cinemaContext
¢¢ !
.
¢¢! "
SaveChanges
¢¢" -
(
¢¢- .
)
¢¢. /
;
¢¢/ 0
bindGrid
££ 
(
££ 
)
££ 
;
££ 
initBokkingPanel
§§ $
(
§§$ %
)
§§% &
;
§§& '
}
•• 
}
¶¶ 
}
ßß 	
}
®® 
}©© ül
yC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\GUI\CreateBookingGUI.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public 

partial 
class 
CreateBookingGUI )
:* +
Form, 0
{ 
private 
List 
< 
List 
< 
CheckBox "
>" #
># $
listSeat% -
;- .
public 
int 
ShowID 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
RoomID 
{ 
get 
;  
set! $
;$ %
}& '
public 
decimal 
	ShowPrice  
{! "
get# &
;& '
set( +
;+ ,
}- .
private 
CinemaContext 
cinemaContext +
;+ ,
public 
CreateBookingGUI 
(  
int  #
roomID$ *
,* +
int, /
showID0 6
)6 7
{ 	
InitializeComponent 
(  
)  !
;! "
cinemaContext 
= 
new 
CinemaContext  -
(- .
). /
;/ 0
ShowID 
= 
showID 
; 
RoomID 
= 
roomID 
; 
	ShowPrice 
= 
cinemaContext %
.% &
Shows& +
.+ ,
Find, 0
(0 1
showID1 7
)7 8
.8 9
Price9 >
.> ?
Value? D
;D E
initBokkingPanel 
( 
) 
; 
}   	
private"" 
void"" 
initBokkingPanel"" %
(""% &
)""& '
{## 	
listSeat$$ 
=$$ 
new$$ 
List$$ 
<$$  
List$$  $
<$$$ %
CheckBox$$% -
>$$- .
>$$. /
($$/ 0
)$$0 1
;$$1 2
Room'' 
room'' 
='' 
cinemaContext'' %
.''% &
Rooms''& +
.''+ ,
Find'', 0
(''0 1
RoomID''1 7
)''7 8
;''8 9
int)) 
height)) 
=)) 
room)) 
.)) 

NumberRows)) (
.))( )
Value))) .
;)). /
int** 
width** 
=** 
room** 
.** 

NumberCols** '
.**' (
Value**( -
;**- .
int,, 
startButtonPoint,,  
=,,! "
(,,# $
panel1,,$ *
.,,* +
Width,,+ 0
-,,1 2
width,,3 8
*,,9 :
$num,,; =
),,= >
/,,? @
$num,,A B
;,,B C
string.. 

seatStatus.. 
=.. 
getSeatStatus..  -
(..- .
ShowID... 4
)..4 5
;..5 6
int// 
indexSeatStatus// 
=//  !
$num//" #
;//# $
for00 
(00 
int00 
i00 
=00 
$num00 
;00 
i00 
<00 
width00  %
;00% &
i00' (
++00( *
)00* +
{11 
listSeat22 
.22 
Add22 
(22 
new22  
List22! %
<22% &
CheckBox22& .
>22. /
(22/ 0
)220 1
)221 2
;222 3
for44 
(44 
int44 
j44 
=44 
$num44 
;44 
j44  !
<44" #
height44$ *
;44* +
j44, -
++44- /
)44/ 0
{55 
CheckBox66 
checkbox66 %
=66& '
new66( +
CheckBox66, 4
(664 5
)665 6
{77 
Width88 
=88 
$num88  "
,88" #
Height99 
=99  
$num99! #
,99# $
Location::  
=::! "
new::# &
Point::' ,
(::, -
i::- .
*::/ 0
$num::1 3
+::4 5
startButtonPoint::6 F
,::F G
j::H I
*::J K
$num::L N
)::N O
};; 
;;; 
if== 
(== 

seatStatus== "
.==" #
Length==# )
>==* +
$num==, -
&&==. 0

seatStatus==1 ;
[==; <
indexSeatStatus==< K
]==K L
====M O
$num==P R
)==R S
{>> 
checkbox??  
.??  !
Checked??! (
=??) *
true??+ /
;??/ 0
checkbox@@  
.@@  !
Enabled@@! (
=@@) *
false@@+ 0
;@@0 1
}AA 
indexSeatStatusBB #
++BB# %
;BB% &
checkboxDD 
.DD 
CheckedChangedDD +
+=DD, .#
Checkbox_CheckedChangedDD/ F
;DDF G
listSeatFF 
[FF 
iFF 
]FF 
.FF  
AddFF  #
(FF# $
checkboxFF$ ,
)FF, -
;FF- .
panel1GG 
.GG 
ControlsGG #
.GG# $
AddGG$ '
(GG' (
checkboxGG( 0
)GG0 1
;GG1 2
}HH 
}II 
}JJ 	
privateLL 
voidLL #
Checkbox_CheckedChangedLL ,
(LL, -
objectLL- 3
senderLL4 :
,LL: ;
	EventArgsLL< E
eLLF G
)LLG H
{MM 	
ifNN 
(NN 
(NN 
(NN 
CheckBoxNN 
)NN 
senderNN !
)NN! "
.NN" #
CheckedNN# *
&&NN+ -
(NN. /
(NN/ 0
CheckBoxNN0 8
)NN8 9
senderNN9 ?
)NN? @
.NN@ A
EnabledNNA H
)NNH I
	txtAmountNNJ S
.NNS T
TextNNT X
=NNY Z
(NN[ \
decimalNN\ c
.NNc d
ParseNNd i
(NNi j
	txtAmountNNj s
.NNs t
TextNNt x
)NNx y
+NNz {
	ShowPrice	NN| Ö
)
NNÖ Ü
.
NNÜ á
ToString
NNá è
(
NNè ê
)
NNê ë
;
NNë í
ifOO 
(OO 
!OO 
(OO 
(OO 
CheckBoxOO 
)OO 
senderOO "
)OO" #
.OO# $
CheckedOO$ +
&&OO, .
(OO/ 0
(OO0 1
CheckBoxOO1 9
)OO9 :
senderOO: @
)OO@ A
.OOA B
EnabledOOB I
)OOI J
	txtAmountOOK T
.OOT U
TextOOU Y
=OOZ [
(OO\ ]
decimalOO] d
.OOd e
ParseOOe j
(OOj k
	txtAmountOOk t
.OOt u
TextOOu y
)OOy z
-OO{ |
	ShowPrice	OO} Ü
)
OOÜ á
.
OOá à
ToString
OOà ê
(
OOê ë
)
OOë í
;
OOí ì
}PP 	
privateRR 
stringRR 
getSeatStatusRR $
(RR$ %
intRR% (
showIDRR) /
)RR/ 0
{SS 	
ListTT 
<TT 
BookingTT 
>TT 
listBookingTT %
=TT& '
cinemaContextTT( 5
.TT5 6
BookingsTT6 >
.TT> ?
ToListTT? E
(TTE F
)TTF G
.TTG H
WhereTTH M
(TTM N
bTTN O
=>TTP R
bTTS T
.TTT U
ShowIdTTU [
==TT\ ^
showIDTT_ e
)TTe f
.TTf g
ToListTTg m
(TTm n
)TTn o
;TTo p
stringUU 
resultUU 
=UU 
$strUU 
;UU 
ifWW 
(WW 
listBookingWW 
.WW 
CountWW !
<=WW" $
$numWW% &
)WW& '
returnWW( .
resultWW/ 5
;WW5 6
forYY 
(YY 
intYY 
iYY 
=YY 
$numYY 
;YY 
iYY 
<YY 
listBookingYY  +
[YY+ ,
$numYY, -
]YY- .
.YY. /

SeatStatusYY/ 9
.YY9 :
LengthYY: @
;YY@ A
iYYB C
++YYC E
)YYE F
{ZZ 
bool[[ 
check[[ 
=[[ 
false[[ "
;[[" #
foreach\\ 
(\\ 
Booking\\  
book\\! %
in\\& (
listBooking\\) 4
)\\4 5
{]] 
char^^ 
c^^ 
=^^ 
book^^ !
.^^! "

SeatStatus^^" ,
[^^, -
i^^- .
]^^. /
;^^/ 0
if__ 
(__ 
c__ 
==__ 
$num__ 
)__  
{`` 
checkaa 
=aa 
trueaa  $
;aa$ %
}bb 
}cc 
ifee 
(ee 
checkee 
)ee 
resultee !
+=ee" $
$stree% (
;ee( )
elseee* .
resultee/ 5
+=ee6 8
$stree9 <
;ee< =
}ff 
returngg 
resultgg 
;gg 
}hh 	
privatejj 
voidjj 
btnSave_Clickjj "
(jj" #
objectjj# )
senderjj* 0
,jj0 1
	EventArgsjj2 ;
ejj< =
)jj= >
{kk 	
stringll 
namell 
=ll 
txtNamell !
.ll! "
Textll" &
;ll& '
decimalmm 
amountmm 
=mm 
decimalmm $
.mm$ %
Parsemm% *
(mm* +
	txtAmountmm+ 4
.mm4 5
Textmm5 9
)mm9 :
;mm: ;
stringnn 

seatStatusnn 
=nn 
$strnn  "
;nn" #
foreachpp 
(pp 
Listpp 
<pp 
CheckBoxpp "
>pp" #
listCheckBoxpp$ 0
inpp1 3
listSeatpp4 <
)pp< =
{qq 
foreachrr 
(rr 
CheckBoxrr !
checkboxrr" *
inrr+ -
listCheckBoxrr. :
)rr: ;
{ss 
iftt 
(tt 
checkboxtt  
.tt  !
Checkedtt! (
&&tt) +
checkboxtt, 4
.tt4 5
Enabledtt5 <
==tt= ?
truett@ D
)ttD E
{uu 

seatStatusvv "
+=vv# %
$strvv& )
;vv) *
}ww 
elsexx 
{yy 

seatStatuszz "
+=zz# %
$strzz& )
;zz) *
}{{ 
}|| 
}}} 
if 
( 

seatStatus 
. 
IndexOf "
(" #
$str# &
)& '
<( )
$num* +
)+ ,
{
ÄÄ 

MessageBox
ÅÅ 
.
ÅÅ 
Show
ÅÅ 
(
ÅÅ  
$str
ÅÅ  A
)
ÅÅA B
;
ÅÅB C
this
ÇÇ 
.
ÇÇ 
DialogResult
ÇÇ !
=
ÇÇ" #
DialogResult
ÇÇ$ 0
.
ÇÇ0 1
None
ÇÇ1 5
;
ÇÇ5 6
return
ÉÉ 
;
ÉÉ 
}
ÑÑ 
if
ÜÜ 
(
ÜÜ 
name
ÜÜ 
.
ÜÜ 
Length
ÜÜ 
==
ÜÜ 
$num
ÜÜ  
)
ÜÜ  !
{
áá 

MessageBox
àà 
.
àà 
Show
àà 
(
àà  
$str
àà  8
)
àà8 9
;
àà9 :
this
ââ 
.
ââ 
DialogResult
ââ !
=
ââ" #
DialogResult
ââ$ 0
.
ââ0 1
None
ââ1 5
;
ââ5 6
return
ää 
;
ää 
}
ãã 
Booking
çç 
booking
çç 
=
çç 
new
çç !
Booking
çç" )
(
çç) *
)
çç* +
{
éé 
ShowId
èè 
=
èè 
ShowID
èè 
,
èè  
Name
êê 
=
êê 
name
êê 
,
êê 

SeatStatus
ëë 
=
ëë 

seatStatus
ëë '
,
ëë' (
Amount
íí 
=
íí 
amount
íí 
}
ìì 
;
ìì 
cinemaContext
ïï 
.
ïï 
Bookings
ïï "
.
ïï" #
Add
ïï# &
(
ïï& '
booking
ïï' .
)
ïï. /
;
ïï/ 0
cinemaContext
ññ 
.
ññ 
SaveChanges
ññ %
(
ññ% &
)
ññ& '
;
ññ' (
}
óó 	
private
ôô 
void
ôô 
txtAmount_KeyUp
ôô $
(
ôô$ %
object
ôô% +
sender
ôô, 2
,
ôô2 3
KeyEventArgs
ôô4 @
e
ôôA B
)
ôôB C
{
öö 	
try
õõ 
{
úú 
if
ùù 
(
ùù 
decimal
ùù 
.
ùù 
Parse
ùù !
(
ùù! "
	txtAmount
ùù" +
.
ùù+ ,
Text
ùù, 0
)
ùù0 1
<
ùù2 3
$num
ùù4 5
)
ùù5 6
{
ùù7 8
	txtAmount
ùù9 B
.
ùùB C
Text
ùùC G
=
ùùH I
$str
ùùJ M
;
ùùM N
}
ùùO P
;
ùùP Q
}
ûû 
catch
üü 
(
üü 
	Exception
üü 
)
üü 
{
†† 
	txtAmount
°° 
.
°° 
Text
°° 
=
°°  
$str
°°! $
;
°°$ %
}
¢¢ 
}
££ 	
}
§§ 
}•• —
qC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\GUI\LoginGUI.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public 

partial 
class 
LoginGUI !
:" #
Form$ (
{ 
public 
LoginGUI 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
private 
void 
btnLogin_Click #
(# $
object$ *
sender+ 1
,1 2
	EventArgs3 <
e= >
)> ?
{ 	
string 
name 
, 
pass 
; 
var 
conf 
= 
new  
ConfigurationBuilder /
(/ 0
)0 1
. 
SetBasePath 
( 
	Directory &
.& '
GetCurrentDirectory' :
(: ;
); <
)< =
. 
AddJsonFile 
( 
$str /
,/ 0
true1 5
,5 6
true7 ;
); <
. 
Build 
( 
) 
; 
name 
= 
conf 
[ 
$str #
]# $
;$ %
pass 
= 
conf 
[ 
$str '
]' (
;( )
if   
(   
txtName   
.   
Text   
==   
name    $
&&  % '
txtPassword  ( 3
.  3 4
Text  4 8
==  9 ;
pass  < @
)  @ A
{!! 
Settings"" 
."" 
UserName"" !
=""" #
name""$ (
;""( )

MessageBox## 
.## 
Show## 
(##  
$str##  D
)##D E
;##E F
}$$ 
else%% 

MessageBox&& 
.&& 
Show&& 
(&&  
$str&&  6
)&&6 7
;&&7 8
}(( 	
})) 
}** œ(
pC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\GUI\MainGUI.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public 

partial 
class 
MainGUI  
:! "
Form# '
{ 
public 
MainGUI 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "!
toolStripStatusLabel1 !
.! "
Text" &
=' (
$str) v
;v w
} 	
private 
void '
exitToolStripMenuItem_Click 0
(0 1
object1 7
sender8 >
,> ?
	EventArgs@ I
eJ K
)K L
{ 	
Application 
. 
Exit 
( 
) 
; 
} 	
private 
void &
newToolStripMenuItem_Click /
(/ 0
object0 6
sender7 =
,= >
	EventArgs? H
eI J
)J K
{ 	
} 	
private 
void "
toolStripButton1_Click +
(+ ,
object, 2
sender3 9
,9 :
	EventArgs; D
eE F
)F G
{   	
}"" 	
private$$ 
void$$ (
loginToolStripMenuItem_Click$$ 1
($$1 2
object$$2 8
sender$$9 ?
,$$? @
	EventArgs$$A J
e$$K L
)$$L M
{%% 	
if&& 
(&& 
!&& "
loginToolStripMenuItem&& '
.&&' (
Text&&( ,
.&&, -
Equals&&- 3
(&&3 4
$str&&4 ;
)&&; <
)&&< =
{'' 
Settings(( 
.(( 
UserName(( !
=((" #
$str(($ &
;((& '

MessageBox)) 
.)) 
Show)) 
())  
$str))  2
)))2 3
;))3 4
}** 
else** 
{++ 
LoginGUI,, 
f,, 
=,, 
new,,  
LoginGUI,,! )
(,,) *
),,* +
;,,+ ,
DialogResult-- 
dr-- 
=--  !
f--" #
.--# $

ShowDialog--$ .
(--. /
)--/ 0
;--0 1
}.. 
if00 
(00 
toolStripContainer100 #
.00# $
ContentPanel00$ 0
.000 1
Controls001 9
.009 :
Count00: ?
>00@ A
$num00B C
)00C D!
showToolStripMenuItem00E Z
.00Z [
PerformClick00[ g
(00g h
)00h i
;00i j
}11 	
private33 
void33 
MainGUI_Activated33 &
(33& '
object33' -
sender33. 4
,334 5
	EventArgs336 ?
e33@ A
)33A B
{44 	
if55 
(55 
Settings55 
.55 
UserName55 !
==55" $
$str55% '
)55' ("
loginToolStripMenuItem66 &
.66& '
Text66' +
=66, -
$str66. 5
;665 6
else77 "
loginToolStripMenuItem88 &
.88& '
Text88' +
=88, -
$"88. 0
$str880 8
{888 9
Settings889 A
.88A B
UserName88B J
}88J K
$str88K L
"88L M
;88M N
}:: 	
private<< 
void<< '
showToolStripMenuItem_Click<< 0
(<<0 1
object<<1 7
sender<<8 >
,<<> ?
	EventArgs<<@ I
e<<J K
)<<K L
{== 	
ShowGUI>> 
f>> 
=>> 
new>> 
ShowGUI>> #
(>># $
)>>$ %
;>>% &
f?? 
.?? 
TopLevel?? 
=?? 
false?? 
;?? 
f@@ 
.@@ 
FormBorderStyle@@ 
=@@ 
FormBorderStyle@@  /
.@@/ 0
None@@0 4
;@@4 5
fAA 
.AA 
ShowAA 
(AA 
)AA 
;AA 
toolStripContainer1CC 
.CC  
ContentPanelCC  ,
.CC, -
ControlsCC- 5
.CC5 6
ClearCC6 ;
(CC; <
)CC< =
;CC= >
toolStripContainer1DD 
.DD  
ContentPanelDD  ,
.DD, -
ControlsDD- 5
.DD5 6
AddDD6 9
(DD9 :
fDD: ;
)DD; <
;DD< =
}EE 	
privateGG 
voidGG 1
%toolStripContainer1_ContentPanel_LoadGG :
(GG: ;
objectGG; A
senderGGB H
,GGH I
	EventArgsGGJ S
eGGT U
)GGU V
{HH 	
}JJ 	
privateLL 
voidLL $
statusStrip1_ItemClickedLL -
(LL- .
objectLL. 4
senderLL5 ;
,LL; <)
ToolStripItemClickedEventArgsLL= Z
eLL[ \
)LL\ ]
{MM 	
}OO 	
}PP 
}QQ ø
qC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\GUI\Settings.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public		 

class		 
Settings		 
{

 
public 
static 
string 
UserName %
=& '
$str( *
;* +
} 
} æc
wC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\GUI\ShowAddEditGUI.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public 

partial 
class 
ShowAddEditGUI '
:( )
Form* .
{ 
int 
add 
; 
Show 
currentShow 
; 
private 
CinemaContext 
cinemaContext +
;+ ,
public 
ShowAddEditGUI 
( 
Show "
show# '
)' (
{ 	
InitializeComponent 
(  
)  !
;! "
cinemaContext 
= 
new 
CinemaContext  -
(- .
). /
;/ 0
currentShow 
= 
show 
; 
if 
( 
show 
. 
ShowId 
== 
$num  
)  !
add" %
=& '
$num( )
;) *
else 
add 
= 
$num 
; 
if 
( 
add 
== 
$num 
) 
{ 
dtpShowDate 
. 
Value !
=" #
show$ (
.( )
ShowDate) 1
.1 2
Value2 7
;7 8
	cboRoomId 
. 

DataSource $
=% &
cinemaContext' 4
.4 5
Rooms5 :
.: ;
ToList; A
(A B
)B C
;C D
	cboRoomId 
. 
DisplayMember '
=( )
$str* 0
;0 1
	cboRoomId   
.   
ValueMember   %
=  & '
$str  ( 0
;  0 1
	cboRoomId!! 
.!! 
SelectedValue!! '
=!!( )
show!!* .
.!!. /
RoomId!!/ 5
;!!5 6
List## 
<## 
Show## 
>## 
listShow## #
=##$ %
cinemaContext##& 3
.##3 4
Shows##4 9
.##9 :
ToList##: @
(##@ A
)##A B
;##B C
var$$ 
listShowByIdAndDate$$ '
=$$( )
listShow$$* 2
.$$2 3
Where$$3 8
($$8 9
s$$9 :
=>$$; =
s$$> ?
.$$? @
RoomId$$@ F
==$$G I
show$$J N
.$$N O
RoomId$$O U
&&$$V X
s$$Y Z
.$$Z [
ShowDate$$[ c
.$$c d
Value$$d i
==$$j l
show$$m q
.$$q r
ShowDate$$r z
.$$z {
Value	$${ Ä
)
$$Ä Å
;
$$Å Ç
List&& 
<&& 
int&& 
>&& 
	availSlot&& #
=&&$ %
new&&& )
List&&* .
<&&. /
int&&/ 2
>&&2 3
(&&3 4
)&&4 5
{&&6 7
$num&&8 9
,&&9 :
$num&&: ;
,&&; <
$num&&< =
,&&= >
$num&&> ?
,&&? @
$num&&@ A
,&&A B
$num&&B C
,&&C D
$num&&D E
,&&E F
$num&&F G
,&&G H
$num&&H I
}&&I J
;&&J K
foreach(( 
((( 
Show(( 
s(( 
in(( !
listShowByIdAndDate((" 5
)((5 6
{)) 
	availSlot** 
.** 
Remove** $
(**$ %
s**% &
.**& '
Slot**' +
.**+ ,
Value**, 1
)**1 2
;**2 3
}++ 
	availSlot-- 
.-- 
Add-- 
(-- 
show-- "
.--" #
Slot--# '
.--' (
Value--( -
)--- .
;--. /
cboSlot.. 
... 

DataSource.. "
=..# $
	availSlot..% .
;... /
cboSlot// 
.// 
SelectedItem// $
=//% &
show//' +
.//+ ,
Slot//, 0
;//0 1
	cboFilmId11 
.11 

DataSource11 $
=11% &
cinemaContext11' 4
.114 5
Films115 :
.11: ;
ToList11; A
(11A B
)11B C
;11C D
	cboFilmId22 
.22 
DisplayMember22 '
=22( )
$str22* 1
;221 2
	cboFilmId33 
.33 
ValueMember33 %
=33& '
$str33( 0
;330 1
	cboFilmId44 
.44 
SelectedValue44 '
=44( )
show44* .
.44. /
FilmId44/ 5
;445 6
txtPrice66 
.66 
Text66 
=66 
show66  $
.66$ %
Price66% *
.66* +
ToString66+ 3
(663 4
)664 5
;665 6
}77 
if99 
(99 
add99 
==99 
$num99 
)99 
{:: 
dtpShowDate;; 
.;; 
Value;; !
=;;" #
show;;$ (
.;;( )
ShowDate;;) 1
.;;1 2
Value;;2 7
;;;7 8
	cboRoomId<< 
.<< 

DataSource<< $
=<<% &
cinemaContext<<' 4
.<<4 5
Rooms<<5 :
.<<: ;
ToList<<; A
(<<A B
)<<B C
;<<C D
	cboRoomId== 
.== 
DisplayMember== '
===( )
$str==* 0
;==0 1
	cboRoomId>> 
.>> 
ValueMember>> %
=>>& '
$str>>( 0
;>>0 1
	cboRoomId?? 
.?? 
SelectedValue?? '
=??( )
show??* .
.??. /
RoomId??/ 5
;??5 6
ListAA 
<AA 
ShowAA 
>AA 
listShowAA #
=AA$ %
cinemaContextAA& 3
.AA3 4
ShowsAA4 9
.AA9 :
ToListAA: @
(AA@ A
)AAA B
;AAB C
varBB 
listShowByIdAndDateBB '
=BB( )
listShowBB* 2
.BB2 3
WhereBB3 8
(BB8 9
sBB9 :
=>BB; =
sBB> ?
.BB? @
RoomIdBB@ F
==BBG I
showBBJ N
.BBN O
RoomIdBBO U
&&BBV X
sBBY Z
.BBZ [
ShowDateBB[ c
.BBc d
ValueBBd i
==BBj l
showBBm q
.BBq r
ShowDateBBr z
.BBz {
Value	BB{ Ä
)
BBÄ Å
;
BBÅ Ç
ListDD 
<DD 
intDD 
>DD 
	availSlotDD #
=DD$ %
newDD& )
ListDD* .
<DD. /
intDD/ 2
>DD2 3
(DD3 4
)DD4 5
{DD6 7
$numDD8 9
,DD9 :
$numDD; <
,DD< =
$numDD> ?
,DD? @
$numDDA B
,DDB C
$numDDD E
,DDE F
$numDDG H
,DDH I
$numDDJ K
,DDK L
$numDDM N
,DDN O
$numDDP Q
}DDR S
;DDS T
foreachFF 
(FF 
ShowFF 
sFF 
inFF  "
listShowByIdAndDateFF# 6
)FF6 7
{GG 
	availSlotHH 
.HH 
RemoveHH $
(HH$ %
sHH% &
.HH& '
SlotHH' +
.HH+ ,
ValueHH, 1
)HH1 2
;HH2 3
}II 
cboSlotKK 
.KK 

DataSourceKK "
=KK# $
	availSlotKK% .
;KK. /
	cboFilmIdMM 
.MM 

DataSourceMM $
=MM% &
cinemaContextMM' 4
.MM4 5
FilmsMM5 :
.MM: ;
ToListMM; A
(MMA B
)MMB C
;MMC D
	cboFilmIdNN 
.NN 
DisplayMemberNN '
=NN( )
$strNN* 1
;NN1 2
	cboFilmIdOO 
.OO 
ValueMemberOO %
=OO& '
$strOO( 0
;OO0 1
	cboFilmIdPP 
.PP 
SelectedValuePP '
=PP( )
showPP* .
.PP. /
FilmIdPP/ 5
;PP5 6
}QQ 
}RR 	
privateTT 
voidTT 
btnSave_ClickTT "
(TT" #
objectTT# )
senderTT* 0
,TT0 1
	EventArgsTT2 ;
eTT< =
)TT= >
{UU 	
ShowVV 
newShowVV 
=VV 
newVV 
ShowVV #
(VV# $
)VV$ %
{VV& '
ShowIdWW 
=WW 
currentShowWW $
.WW$ %
ShowIdWW% +
,WW+ ,
RoomIdXX 
=XX 
(XX 
intXX 
)XX 
	cboRoomIdXX '
.XX' (
SelectedValueXX( 5
,XX5 6
FilmIdYY 
=YY 
(YY 
intYY 
)YY 
	cboFilmIdYY '
.YY' (
SelectedValueYY( 5
,YY5 6
ShowDateZZ 
=ZZ 
dtpShowDateZZ &
.ZZ& '
ValueZZ' ,
,ZZ, -
Price[[ 
=[[ 
decimal[[ 
.[[  
Parse[[  %
([[% &
txtPrice[[& .
.[[. /
Text[[/ 3
)[[3 4
,[[4 5
Status\\ 
=\\ 
true\\ 
,\\ 
Slot]] 
=]] 
int]] 
.]] 
Parse]]  
(]]  !
cboSlot]]! (
.]]( )
Text]]) -
)]]- .
}^^ 
;^^ 
if`` 
(`` 
add`` 
==`` 
$num`` 
)`` 
{aa 
Showbb 
showbb 
=bb 
cinemaContextbb )
.bb) *
Showsbb* /
.bb/ 0
Findbb0 4
(bb4 5
currentShowbb5 @
.bb@ A
ShowIdbbA G
)bbG H
;bbH I
showcc 
.cc 
RoomIdcc 
=cc 
(cc 
intcc "
)cc" #
	cboRoomIdcc# ,
.cc, -
SelectedValuecc- :
;cc: ;
showdd 
.dd 
FilmIddd 
=dd 
(dd 
intdd "
)dd" #
	cboFilmIddd# ,
.dd, -
SelectedValuedd- :
;dd: ;
showee 
.ee 
ShowDateee 
=ee 
dtpShowDateee  +
.ee+ ,
Valueee, 1
;ee1 2
showff 
.ff 
Priceff 
=ff 
decimalff $
.ff$ %
Parseff% *
(ff* +
txtPriceff+ 3
.ff3 4
Textff4 8
)ff8 9
;ff9 :
showgg 
.gg 
Statusgg 
=gg 
truegg "
;gg" #
showhh 
.hh 
Slothh 
=hh 
inthh 
.hh  
Parsehh  %
(hh% &
cboSlothh& -
.hh- .
Texthh. 2
)hh2 3
;hh3 4
cinemaContextii 
.ii 
SaveChangesii )
(ii) *
)ii* +
;ii+ ,

MessageBoxjj 
.jj 
Showjj 
(jj  
$strjj  6
)jj6 7
;jj7 8
}kk 
ifll 
(ll 
addll 
==ll 
$numll 
)ll 
{mm 
cinemaContextnn 
.nn 
Showsnn #
.nn# $
Addnn$ '
(nn' (
newShownn( /
)nn/ 0
;nn0 1
cinemaContextoo 
.oo 
SaveChangesoo )
(oo) *
)oo* +
;oo+ ,

MessageBoxpp 
.pp 
Showpp 
(pp  
$strpp  6
)pp6 7
;pp7 8
}qq 
}ss 	
privateuu 
voiduu 
txtPrice_KeyUpuu #
(uu# $
objectuu$ *
senderuu+ 1
,uu1 2
KeyEventArgsuu3 ?
euu@ A
)uuA B
{vv 	
tryww 
{xx 
ifyy 
(yy 
decimalyy 
.yy 
Parseyy !
(yy! "
txtPriceyy" *
.yy* +
Textyy+ /
)yy/ 0
<yy1 2
$numyy3 4
)yy4 5
{yy6 7
txtPriceyy8 @
.yy@ A
TextyyA E
=yyF G
$stryyH K
;yyK L
}yyM N
;yyN O
}zz 
catchzz 
(zz 
	Exceptionzz 
)zz 
{zz  !
txtPrice{{ 
.{{ 
Text{{ 
={{ 
$str{{  #
;{{# $
}|| 
}}} 	
}~~ 
} §á
pC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\GUI\ShowGUI.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
GUI  
{ 
public 

partial 
class 
ShowGUI  
:! "
Form# '
{ 
private 
CinemaContext 
cinemaContext +
;+ ,
public 
ShowGUI 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
cinemaContext 
= 
new 
CinemaContext  -
(- .
). /
;/ 0
List 
< 
Show 
> 
dt 
= 
cinemaContext )
.) *
Shows* /
./ 0
ToList0 6
(6 7
)7 8
;8 9
bindGrid 
( 
dt 
) 
; 

bindSearch 
( 
) 
; 
} 	
void 

bindSearch 
( 
) 
{ 	
List 
< 
Film 
> 
dt 
= 
cinemaContext )
.) *
Films* /
./ 0
ToList0 6
(6 7
)7 8
;8 9
dt   
.   
Insert   
(   
$num   
,   
new   
Film   !
(  ! "
)  " #
{  $ %
FilmId!! 
=!! 
$num!! 
,!! 
GenreId"" 
="" 
$num"" 
,"" 
Title## 
=## 
$str## 
,## 
Year$$ 
=$$ 
$num$$ 
,$$ 
CountryCode%% 
=%% 
$str%% "
}&& 
)&& 
;&& 
cboFilm(( 
.(( 

DataSource(( 
=((  
dt((! #
;((# $
cboFilm)) 
.)) 
DisplayMember)) !
=))" #
$str))$ +
;))+ ,
cboFilm** 
.** 
ValueMember** 
=**  !
$str**" *
;*** +
cboRoom,, 
.,, 

DataSource,, 
=,,  
cinemaContext,,! .
.,,. /
Rooms,,/ 4
.,,4 5
ToList,,5 ;
(,,; <
),,< =
;,,= >
cboRoom-- 
.-- 
DisplayMember-- !
=--" #
$str--$ *
;--* +
cboRoom.. 
... 
ValueMember.. 
=..  !
$str.." *
;..* +
}// 	
void00 
bindGrid00 
(00 
List00 
<00 
Show00 
>00  
listShow00! )
)00) *
{11 	
dataGridView122 
.22 
Columns22 !
.22! "
Clear22" '
(22' (
)22( )
;22) *
dataGridView133 
.33 

DataSource33 $
=33% &
listShow33' /
;33/ 0

labNumShow55 
.55 
Text55 
=55 
$str55 5
+556 7
listShow558 @
.55@ A
Count55A F
;55F G
if77 
(77 
Settings77 
.77 
UserName77 !
.77! "
Equals77" (
(77( )
$str77) 0
)770 1
)771 2
{88 
btnAdd99 
.99 
Visible99 
=99  
true99! %
;99% &
int:: 
count:: 
=:: 
dataGridView1:: )
.::) *
Columns::* 1
.::1 2
Count::2 7
;::7 8$
DataGridViewButtonColumn<< (
btnEdit<<) 0
=<<1 2
new<<3 6$
DataGridViewButtonColumn<<7 O
{== 
Name>> 
=>> 
$str>> !
,>>! "
Text?? 
=?? 
$str?? !
,??! "'
UseColumnTextForButtonValue@@ /
=@@0 1
true@@2 6
}AA 
;AA $
DataGridViewButtonColumnCC (
	btnDeleteCC) 2
=CC3 4
newCC5 8$
DataGridViewButtonColumnCC9 Q
{DD 
NameEE 
=EE 
$strEE #
,EE# $
TextFF 
=FF 
$strFF #
,FF# $'
UseColumnTextForButtonValueGG /
=GG0 1
trueGG2 6
}HH 
;HH 
dataGridView1JJ 
.JJ 
ColumnsJJ %
.JJ% &
InsertJJ& ,
(JJ, -
countJJ- 2
,JJ2 3
btnEditJJ4 ;
)JJ; <
;JJ< =
countKK 
=KK 
dataGridView1KK %
.KK% &
ColumnsKK& -
.KK- .
CountKK. 3
;KK3 4
dataGridView1LL 
.LL 
ColumnsLL %
.LL% &
InsertLL& ,
(LL, -
countLL- 2
,LL2 3
	btnDeleteLL4 =
)LL= >
;LL> ?
}MM 
elseMM 
{NN 
btnAddOO 
.OO 
VisibleOO 
=OO  
falseOO! &
;OO& '
}PP $
DataGridViewButtonColumnRR $

btnBookingRR% /
=RR0 1
newRR2 5$
DataGridViewButtonColumnRR6 N
{SS 
NameTT 
=TT 
$strTT  
,TT  !
TextUU 
=UU 
$strUU  
,UU  !'
UseColumnTextForButtonValueVV +
=VV, -
trueVV. 2
}WW 
;WW 
dataGridView1YY 
.YY 
ColumnsYY !
.YY! "
InsertYY" (
(YY( )
dataGridView1YY) 6
.YY6 7
ColumnsYY7 >
.YY> ?
CountYY? D
,YYD E

btnBookingYYF P
)YYP Q
;YYQ R
dataGridView1[[ 
.[[ 
Columns[[ !
[[[! "
$str[[" *
][[* +
.[[+ ,
Visible[[, 3
=[[4 5
false[[6 ;
;[[; <
dataGridView1\\ 
.\\ 
Columns\\ !
[\\! "
$str\\" *
]\\* +
.\\+ ,
Visible\\, 3
=\\4 5
false\\6 ;
;\\; <
}]] 	
private__ 
void__ #
dataGridView1_CellClick__ ,
(__, -
object__- 3
sender__4 :
,__: ;%
DataGridViewCellEventArgs__< U
e__V W
)__W X
{`` 	
ifaa 
(aa 
dataGridView1aa 
.aa 
Columnsaa $
[aa$ %
$straa% +
]aa+ ,
!=aa- /
nullaa0 4
&&aa5 7
eaa8 9
.aa9 :
ColumnIndexaa: E
==aaF H
dataGridView1aaI V
.aaV W
ColumnsaaW ^
[aa^ _
$straa_ e
]aae f
.aaf g
Indexaag l
)aal m
{bb 
intcc 
showIdcc 
=cc 
(cc 
intcc !
)cc! "
dataGridView1cc# 0
.cc0 1
Rowscc1 5
[cc5 6
ecc6 7
.cc7 8
RowIndexcc8 @
]cc@ A
.ccA B
CellsccB G
[ccG H
$strccH P
]ccP Q
.ccQ R
ValueccR W
;ccW X
Showdd 
showdd 
=dd 
cinemaContextdd )
.dd) *
Showsdd* /
.dd/ 0
Finddd0 4
(dd4 5
showIddd5 ;
)dd; <
;dd< =
ShowAddEditGUIff 
fff  
=ff! "
newff# &
ShowAddEditGUIff' 5
(ff5 6
showff6 :
)ff: ;
;ff; <
DialogResultgg 
drgg 
=gg  !
fgg" #
.gg# $

ShowDialoggg$ .
(gg. /
)gg/ 0
;gg0 1
cinemaContextii 
=ii 
newii  #
CinemaContextii$ 1
(ii1 2
)ii2 3
;ii3 4
Listjj 
<jj 
Showjj 
>jj 
listShowjj #
=jj$ %
cinemaContextjj& 3
.jj3 4
Showsjj4 9
.jj9 :
ToListjj: @
(jj@ A
)jjA B
;jjB C
bindGridkk 
(kk 
listShowkk !
)kk! "
;kk" #
}ll 
ifnn 
(nn 
dataGridView1nn 
.nn 
Columnsnn %
[nn% &
$strnn& .
]nn. /
!=nn0 2
nullnn3 7
&&nn8 :
enn; <
.nn< =
ColumnIndexnn= H
==nnI K
dataGridView1nnL Y
.nnY Z
ColumnsnnZ a
[nna b
$strnnb j
]nnj k
.nnk l
Indexnnl q
)nnq r
{oo 
intpp 
showIdpp 
=pp 
(pp 
intpp !
)pp! "
dataGridView1pp" /
.pp/ 0
Rowspp0 4
[pp4 5
epp5 6
.pp6 7
RowIndexpp7 ?
]pp? @
.pp@ A
CellsppA F
[ppF G
$strppG O
]ppO P
.ppP Q
ValueppQ V
;ppV W
DialogResultrr 
drrr 
=rr  !

MessageBoxrr" ,
.rr, -
Showrr- 1
(rr1 2
$strrr2 K
,rrK L
$strrrM V
,rrV W
MessageBoxButtonsrrX i
.rri j
YesNorrj o
)rro p
;rrp q
ifss 
(ss 
drss 
==ss 
DialogResultss &
.ss& '
Yesss' *
)ss* +
{tt 
Showuu 
showuu 
=uu 
cinemaContextuu  -
.uu- .
Showsuu. 3
.uu3 4
Finduu4 8
(uu8 9
showIduu9 ?
)uu? @
;uu@ A
cinemaContextvv !
.vv! "
Showsvv" '
.vv' (
Removevv( .
(vv. /
showvv/ 3
)vv3 4
;vv4 5
cinemaContextww "
.ww" #
SaveChangesww# .
(ww. /
)ww/ 0
;ww0 1
}xx 
cinemaContextyy 
=yy 
newyy  #
CinemaContextyy$ 1
(yy1 2
)yy2 3
;yy3 4
Listzz 
<zz 
Showzz 
>zz 
listShowzz #
=zz$ %
cinemaContextzz& 3
.zz3 4
Showszz4 9
.zz9 :
ToListzz: @
(zz@ A
)zzA B
;zzB C
bindGrid{{ 
({{ 
listShow{{ !
){{! "
;{{" #
}|| 
if~~ 
(~~ 
dataGridView1~~ 
.~~ 
Columns~~ %
[~~% &
$str~~& /
]~~/ 0
!=~~1 3
null~~4 8
&&~~9 ;
e~~< =
.~~= >
ColumnIndex~~> I
==~~J L
dataGridView1~~M Z
.~~Z [
Columns~~[ b
[~~b c
$str~~c l
]~~l m
.~~m n
Index~~n s
&&~~t v
e~~w x
.~~x y
RowIndex	~~y Å
>=
~~Ç Ñ
$num
~~Ö Ü
)
~~Ü á
{ 
int
ÄÄ 
roomID
ÄÄ 
=
ÄÄ 
(
ÄÄ 
int
ÄÄ !
)
ÄÄ! "
dataGridView1
ÄÄ" /
.
ÄÄ/ 0
Rows
ÄÄ0 4
[
ÄÄ4 5
e
ÄÄ5 6
.
ÄÄ6 7
RowIndex
ÄÄ7 ?
]
ÄÄ? @
.
ÄÄ@ A
Cells
ÄÄA F
[
ÄÄF G
$str
ÄÄG O
]
ÄÄO P
.
ÄÄP Q
Value
ÄÄQ V
;
ÄÄV W
int
ÅÅ 
showID
ÅÅ 
=
ÅÅ 
(
ÅÅ 
int
ÅÅ !
)
ÅÅ! "
dataGridView1
ÅÅ" /
.
ÅÅ/ 0
Rows
ÅÅ0 4
[
ÅÅ4 5
e
ÅÅ5 6
.
ÅÅ6 7
RowIndex
ÅÅ7 ?
]
ÅÅ? @
.
ÅÅ@ A
Cells
ÅÅA F
[
ÅÅF G
$str
ÅÅG O
]
ÅÅO P
.
ÅÅP Q
Value
ÅÅQ V
;
ÅÅV W

BookingGUI
ÉÉ 
f
ÉÉ 
=
ÉÉ 
new
ÉÉ "

BookingGUI
ÉÉ# -
(
ÉÉ- .
roomID
ÉÉ. 4
,
ÉÉ4 5
showID
ÉÉ6 <
)
ÉÉ< =
;
ÉÉ= >
DialogResult
ÑÑ 
dr
ÑÑ 
=
ÑÑ  !
f
ÑÑ" #
.
ÑÑ# $

ShowDialog
ÑÑ$ .
(
ÑÑ. /
)
ÑÑ/ 0
;
ÑÑ0 1
}
ÖÖ 
}
ÜÜ 	
private
àà 
void
àà 
btnAdd_Click
àà !
(
àà! "
object
àà" (
sender
àà) /
,
àà/ 0
	EventArgs
àà1 :
e
àà; <
)
àà< =
{
ââ 	
ShowAddEditGUI
ää 
showAddEditGUI
ää )
=
ää* +
new
ää, /
ShowAddEditGUI
ää0 >
(
ää> ?
new
ää? B
Show
ääC G
(
ääG H
)
ääH I
{
ãã 
ShowId
åå 
=
åå 
$num
åå 
,
åå 
FilmId
çç 
=
çç 
(
çç 
int
çç 
)
çç 
cboFilm
çç %
.
çç% &
SelectedValue
çç& 3
,
çç3 4
RoomId
éé 
=
éé 
(
éé 
int
éé 
)
éé 
cboRoom
éé %
.
éé% &
SelectedValue
éé& 3
,
éé3 4
ShowDate
èè 
=
èè 
dtpShowDate
èè &
.
èè& '
Value
èè' ,
}
êê 
)
êê 
;
êê 
DialogResult
ëë 
dr
ëë 
=
ëë 
showAddEditGUI
ëë ,
.
ëë, -

ShowDialog
ëë- 7
(
ëë7 8
)
ëë8 9
;
ëë9 :
if
íí 
(
íí 
dr
íí 
==
íí 
DialogResult
íí "
.
íí" #
OK
íí# %
)
íí% &
{
ìì 
cinemaContext
îî 
=
îî 
new
îî  #
CinemaContext
îî$ 1
(
îî1 2
)
îî2 3
;
îî3 4
List
ïï 
<
ïï 
Show
ïï 
>
ïï 
listShow
ïï #
=
ïï$ %
cinemaContext
ïï& 3
.
ïï3 4
Shows
ïï4 9
.
ïï9 :
ToList
ïï: @
(
ïï@ A
)
ïïA B
;
ïïB C
bindGrid
ññ 
(
ññ 
listShow
ññ !
)
ññ! "
;
ññ" #
}
óó 
}
òò 	
private
öö 
void
öö 
btnSearch_Click
öö $
(
öö$ %
object
öö% +
sender
öö, 2
,
öö2 3
	EventArgs
öö4 =
e
öö> ?
)
öö? @
{
õõ 	
cinemaContext
úú 
=
úú 
new
úú 
CinemaContext
úú  -
(
úú- .
)
úú. /
;
úú/ 0
List
ùù 
<
ùù 
Show
ùù 
>
ùù 
listShow
ùù 
=
ùù  !
cinemaContext
ùù" /
.
ùù/ 0
Shows
ùù0 5
.
ùù5 6
ToList
ùù6 <
(
ùù< =
)
ùù= >
;
ùù> ?
if
ûû 
(
ûû 
(
ûû 
int
ûû 
)
ûû 
cboFilm
ûû 
.
ûû 
SelectedValue
ûû *
!=
ûû+ -
$num
ûû. /
)
ûû/ 0
{
üü 
var
†† *
listShowByDateAndRoomAndFilm
†† 0
=
††1 2
listShow
††3 ;
.
††; <
Where
††< A
(
††A B
s
††B C
=>
††D F
s
††G H
.
††H I
ShowDate
††I Q
==
††R T
dtpShowDate
††U `
.
††` a
Value
††a f
.
††f g
Date
††g k
&&
††l n
s
††o p
.
††p q
RoomId
††q w
==
††x z
(
††{ |
int
††| 
)†† Ä
cboRoom††Ä á
.††á à
SelectedValue††à ï
&&††ñ ò
s††ô ö
.††ö õ
FilmId††õ °
==††¢ §
(††• ¶
int††¶ ©
)††© ™
cboFilm††™ ±
.††± ≤
SelectedValue††≤ ø
)††ø ¿
;††¿ ¡
bindGrid
°° 
(
°° *
listShowByDateAndRoomAndFilm
°° 5
.
°°5 6
ToList
°°6 <
(
°°< =
)
°°= >
)
°°> ?
;
°°? @
}
¢¢ 
else
¢¢ 
{
££ 
var
§§ *
listShowByDateAndRoomAndFilm
§§ 0
=
§§1 2
listShow
§§3 ;
.
§§; <
Where
§§< A
(
§§A B
s
§§B C
=>
§§D F
s
§§G H
.
§§H I
ShowDate
§§I Q
==
§§R T
dtpShowDate
§§U `
.
§§` a
Value
§§a f
.
§§f g
Date
§§g k
&&
§§l n
s
§§o p
.
§§p q
RoomId
§§q w
==
§§x z
(
§§{ |
int
§§| 
)§§ Ä
cboRoom§§Ä á
.§§á à
SelectedValue§§à ï
)§§ï ñ
;§§ñ ó
bindGrid
•• 
(
•• *
listShowByDateAndRoomAndFilm
•• 5
.
••5 6
ToList
••6 <
(
••< =
)
••= >
)
••> ?
;
••? @
}
¶¶ 
}
®® 	
}
©© 
}™™ Á
sC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\Models\Booking.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
Models #
{ 
public 

partial 
class 
Booking  
{		 
public

 
int

 
	BookingId

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
public 
int 
ShowId 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 

SeatStatus  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
decimal 
? 
Amount 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} „Y
yC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\Models\CinemaContext.cs
	namespace		 	
Ass2_SE1616_Group5		
 
.		 
Models		 #
{

 
public 

partial 
class 
CinemaContext &
:' (
	DbContext) 2
{ 
public 
CinemaContext 
( 
) 
{ 	
} 	
public 
CinemaContext 
( 
DbContextOptions -
<- .
CinemaContext. ;
>; <
options= D
)D E
: 
base 
( 
options 
) 
{ 	
} 	
public 
virtual 
DbSet 
< 
Booking $
>$ %
Bookings& .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
virtual 
DbSet 
< 
Country $
>$ %
	Countries& /
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
public 
virtual 
DbSet 
< 
Film !
>! "
Films# (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
virtual 
DbSet 
< 
Genre "
>" #
Genres$ *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
virtual 
DbSet 
< 
Room !
>! "
Rooms# (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
virtual 
DbSet 
< 
Show !
>! "
Shows# (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
	protected 
override 
void 
OnConfiguring  -
(- .#
DbContextOptionsBuilder. E
optionsBuilderF T
)T U
{ 	
if 
( 
! 
optionsBuilder 
.  
IsConfigured  ,
), -
{   
var!! 
conf!! 
=!! 
new!!  
ConfigurationBuilder!! 3
(!!3 4
)!!4 5
."" 
SetBasePath"" 
("" 
	Directory"" &
.""& '
GetCurrentDirectory""' :
("": ;
)""; <
)""< =
.## 
AddJsonFile## 
(## 
$str## /
,##/ 0
true##1 5
,##5 6
true##7 ;
)##; <
.$$ 
Build$$ 
($$ 
)$$ 
;$$ 
String'' 
strConn'' 
=''  
conf''! %
.''% &
GetConnectionString''& 9
(''9 :
$str'': H
)''H I
;''I J
optionsBuilder(( 
.(( 
UseSqlServer(( +
(((+ ,
strConn((, 3
)((3 4
;((4 5
})) 
}** 	
	protected,, 
override,, 
void,, 
OnModelCreating,,  /
(,,/ 0
ModelBuilder,,0 <
modelBuilder,,= I
),,I J
{-- 	
modelBuilder.. 
... 
HasAnnotation.. &
(..& '
$str..' =
,..= >
$str..? ]
)..] ^
;..^ _
modelBuilder00 
.00 
Entity00 
<00  
Booking00  '
>00' (
(00( )
entity00) /
=>000 2
{11 
entity22 
.22 
Property22 
(22  
e22  !
=>22" $
e22% &
.22& '
	BookingId22' 0
)220 1
.221 2
HasColumnName222 ?
(22? @
$str22@ K
)22K L
;22L M
entity44 
.44 
Property44 
(44  
e44  !
=>44" $
e44% &
.44& '
Amount44' -
)44- .
.44. /
HasColumnType44/ <
(44< =
$str44= D
)44D E
;44E F
entity66 
.66 
Property66 
(66  
e66  !
=>66" $
e66% &
.66& '
Name66' +
)66+ ,
.66, -
HasMaxLength66- 9
(669 :
$num66: =
)66= >
;66> ?
entity88 
.88 
Property88 
(88  
e88  !
=>88" $
e88% &
.88& '

SeatStatus88' 1
)881 2
.99 
HasMaxLength99 !
(99! "
$num99" &
)99& '
.:: 
IsFixedLength:: "
(::" #
true::# '
)::' (
;::( )
entity<< 
.<< 
Property<< 
(<<  
e<<  !
=><<" $
e<<% &
.<<& '
ShowId<<' -
)<<- .
.<<. /
HasColumnName<</ <
(<<< =
$str<<= E
)<<E F
;<<F G
}== 
)== 
;== 
modelBuilder?? 
.?? 
Entity?? 
<??  
Country??  '
>??' (
(??( )
entity??) /
=>??0 2
{@@ 
entityAA 
.AA 
HasKeyAA 
(AA 
eAA 
=>AA  "
eAA# $
.AA$ %
CountryCodeAA% 0
)AA0 1
.BB 
HasNameBB 
(BB 
$strBB )
)BB) *
;BB* +
entityDD 
.DD 
PropertyDD 
(DD  
eDD  !
=>DD" $
eDD% &
.DD& '
CountryCodeDD' 2
)DD2 3
.EE 
HasMaxLengthEE !
(EE! "
$numEE" #
)EE# $
.FF 
IsFixedLengthFF "
(FF" #
trueFF# '
)FF' (
;FF( )
entityHH 
.HH 
PropertyHH 
(HH  
eHH  !
=>HH" $
eHH% &
.HH& '
CountryNameHH' 2
)HH2 3
.HH3 4
HasMaxLengthHH4 @
(HH@ A
$numHHA C
)HHC D
;HHD E
}II 
)II 
;II 
modelBuilderKK 
.KK 
EntityKK 
<KK  
FilmKK  $
>KK$ %
(KK% &
entityKK& ,
=>KK- /
{LL 
entityMM 
.MM 
PropertyMM 
(MM  
eMM  !
=>MM" $
eMM% &
.MM& '
FilmIdMM' -
)MM- .
.MM. /
HasColumnNameMM/ <
(MM< =
$strMM= E
)MME F
;MMF G
entityOO 
.OO 
PropertyOO 
(OO  
eOO  !
=>OO" $
eOO% &
.OO& '
CountryCodeOO' 2
)OO2 3
.PP 

IsRequiredPP 
(PP  
)PP  !
.QQ 
HasMaxLengthQQ !
(QQ! "
$numQQ" #
)QQ# $
.RR 
IsFixedLengthRR "
(RR" #
trueRR# '
)RR' (
;RR( )
entityTT 
.TT 
PropertyTT 
(TT  
eTT  !
=>TT" $
eTT% &
.TT& '
GenreIdTT' .
)TT. /
.TT/ 0
HasColumnNameTT0 =
(TT= >
$strTT> G
)TTG H
;TTH I
entityVV 
.VV 
PropertyVV 
(VV  
eVV  !
=>VV" $
eVV% &
.VV& '
TitleVV' ,
)VV, -
.WW 

IsRequiredWW 
(WW  
)WW  !
.XX 
HasMaxLengthXX !
(XX! "
$numXX" %
)XX% &
;XX& '
}YY 
)YY 
;YY 
modelBuilder[[ 
.[[ 
Entity[[ 
<[[  
Genre[[  %
>[[% &
([[& '
entity[[' -
=>[[. 0
{\\ 
entity]] 
.]] 
Property]] 
(]]  
e]]  !
=>]]" $
e]]% &
.]]& '
GenreId]]' .
)]]. /
.]]/ 0
HasColumnName]]0 =
(]]= >
$str]]> G
)]]G H
;]]H I
entity__ 
.__ 
Property__ 
(__  
e__  !
=>__" $
e__% &
.__& '
Name__' +
)__+ ,
.__, -
HasMaxLength__- 9
(__9 :
$num__: <
)__< =
;__= >
}`` 
)`` 
;`` 
modelBuilderbb 
.bb 
Entitybb 
<bb  
Roombb  $
>bb$ %
(bb% &
entitybb& ,
=>bb- /
{cc 
entitydd 
.dd 
Propertydd 
(dd  
edd  !
=>dd" $
edd% &
.dd& '
RoomIddd' -
)dd- .
.dd. /
HasColumnNamedd/ <
(dd< =
$strdd= E
)ddE F
;ddF G
entityff 
.ff 
Propertyff 
(ff  
eff  !
=>ff" $
eff% &
.ff& '
Nameff' +
)ff+ ,
.ff, -
HasMaxLengthff- 9
(ff9 :
$numff: =
)ff= >
;ff> ?
}gg 
)gg 
;gg 
modelBuilderii 
.ii 
Entityii 
<ii  
Showii  $
>ii$ %
(ii% &
entityii& ,
=>ii- /
{jj 
entitykk 
.kk 
Propertykk 
(kk  
ekk  !
=>kk" $
ekk% &
.kk& '
ShowIdkk' -
)kk- .
.kk. /
HasColumnNamekk/ <
(kk< =
$strkk= E
)kkE F
;kkF G
entitymm 
.mm 
Propertymm 
(mm  
emm  !
=>mm" $
emm% &
.mm& '
FilmIdmm' -
)mm- .
.mm. /
HasColumnNamemm/ <
(mm< =
$strmm= E
)mmE F
;mmF G
entityoo 
.oo 
Propertyoo 
(oo  
eoo  !
=>oo" $
eoo% &
.oo& '
Priceoo' ,
)oo, -
.oo- .
HasColumnTypeoo. ;
(oo; <
$stroo< C
)ooC D
;ooD E
entityqq 
.qq 
Propertyqq 
(qq  
eqq  !
=>qq" $
eqq% &
.qq& '
RoomIdqq' -
)qq- .
.qq. /
HasColumnNameqq/ <
(qq< =
$strqq= E
)qqE F
;qqF G
entityss 
.ss 
Propertyss 
(ss  
ess  !
=>ss" $
ess% &
.ss& '
ShowDatess' /
)ss/ 0
.ss0 1
HasColumnTypess1 >
(ss> ?
$strss? E
)ssE F
;ssF G
}tt 
)tt 
;tt "
OnModelCreatingPartialvv "
(vv" #
modelBuildervv# /
)vv/ 0
;vv0 1
}ww 	
partialyy 
voidyy "
OnModelCreatingPartialyy +
(yy+ ,
ModelBuilderyy, 8
modelBuilderyy9 E
)yyE F
;yyF G
}zz 
}{{ î
sC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\Models\Country.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
Models #
{ 
public 

partial 
class 
Country  
{		 
public

 
string

 
CountryCode

 !
{

" #
get

$ '
;

' (
set

) ,
;

, -
}

. /
public 
string 
CountryName !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} Ã
pC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\Models\Film.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
Models #
{ 
public 

partial 
class 
Film 
{		 
public

 
int

 
FilmId

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
int 
GenreId 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
Year 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
CountryCode !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} Ç
qC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\Models\Genre.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
Models #
{ 
public 

partial 
class 
Genre 
{		 
public

 
int

 
GenreId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
} 
} ”
pC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\Models\Room.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
Models #
{ 
public 

partial 
class 
Room 
{		 
public

 
int

 
RoomId

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
? 

NumberRows 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
? 

NumberCols 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ∂
pC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\Models\Show.cs
	namespace 	
Ass2_SE1616_Group5
 
. 
Models #
{ 
public 

partial 
class 
Show 
{		 
public

 
int

 
ShowId

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
int 
RoomId 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
FilmId 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
? 
ShowDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
decimal 
? 
Price 
{ 
get  #
;# $
set% (
;( )
}* +
public 
bool 
? 
Status 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
? 
Slot 
{ 
get 
; 
set  #
;# $
}% &
} 
} ﬁ
lC:\Users\thanh\Desktop\Project PRN\Assignment\Ass2_SE1616_Group5\Before_FixBug\Ass2_SE1616_Group5\Program.cs
	namespace 	
Ass2_SE1616_Group5
 
{ 
internal		 
static		 
class		 
Program		 !
{

 
[ 	
	STAThread	 
] 
static 
void 
Main 
( 
) 
{ 	
Application 
. 
SetHighDpiMode &
(& '
HighDpiMode' 2
.2 3
SystemAware3 >
)> ?
;? @
Application 
. 
EnableVisualStyles *
(* +
)+ ,
;, -
Application 
. -
!SetCompatibleTextRenderingDefault 9
(9 :
false: ?
)? @
;@ A
Application 
. 
Run 
( 
new 
GUI  #
.# $
MainGUI$ +
(+ ,
), -
)- .
;. /
} 	
} 
} 